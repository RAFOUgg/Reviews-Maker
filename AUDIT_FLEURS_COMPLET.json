{
    "metadata": {
        "audit_date": "2026-01-15",
        "system": "Fleurs",
        "project": "Reviews-Maker",
        "total_status": "‚ö†Ô∏è PARTIELLEMENT IMPL√âMENT√â - MVP en cours"
    },
    "frontend": {
        "pages_structure": {
            "main_page": "client/src/pages/review/CreateFlowerReview/index.jsx",
            "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
            "details": {
                "sections_count": 10,
                "sections_implemented": [
                    "Informations g√©n√©rales",
                    "G√©n√©tiques & PhenoHunt",
                    "Culture & Pipeline",
                    "Analytiques",
                    "Visuel & Technique",
                    "Odeurs",
                    "Texture",
                    "Go√ªts",
                    "Effets & Exp√©rience (fusionn√©s)",
                    "Curing & Maturation"
                ],
                "navigation": "Carousel avec emojis et progression",
                "form_state_management": "Hook personnalis√© useFlowerForm"
            }
        },
        "sections": {
            "infosGenerales": {
                "file": "client/src/pages/review/CreateFlowerReview/sections/InfosGenerales.jsx",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "champs_implementes": [
                    "nomCommercial (text requis)",
                    "cultivars (multi-select pills avec source biblioth√®que)",
                    "farm/producteur (text avec auto-complete)",
                    "photos (1-4 images avec syst√®me de tags: Macro, Full plant, Bud sec, Trichomes, Drying, Curing)"
                ],
                "controls": [
                    "Input text simple",
                    "MultiSelectPills composant r√©utilisable",
                    "Upload image avec drag & drop",
                    "Syst√®me de tags rapides par photo"
                ],
                "validation": "Champs requis: nomCommercial, photos (1-4 min)",
                "storage": "FormData + transfert au backend"
            },
            "genetiques": {
                "file": "client/src/pages/review/CreateFlowerReview/sections/Genetiques.jsx",
                "status": "‚ö†Ô∏è PARTIELLEMENT IMPL√âMENT√â",
                "champs_implementes": [
                    "breeder (text libre)",
                    "variety (auto-complete depuis cultivars)",
                    "geneticType (Indica/Sativa/Hybride)",
                    "indicaPercent (slider 0-100)",
                    "sativaPercent (slider 0-100)",
                    "parentage (JSON: parents)",
                    "phenotypeCode (text ex: 'Pheno #2')"
                ],
                "phenohunt_status": "‚ö†Ô∏è PARTIELLEMENT IMPL√âMENT√â",
                "phenohunt_details": {
                    "arbre_genealogique": "‚úÖ Composant UnifiedGeneticsCanvas existe",
                    "tabs": [
                        "cultivars (mode simple)",
                        "arbre (visualisation drag-drop)",
                        "pheno-hunt (mode cr√©ation ph√©notypes)"
                    ],
                    "modal_initial": "‚úÖ Pr√©sent avec 3 options: cr√©er arbre vide, depuis review actuelle, importer depuis existant",
                    "nodes_edges": "‚úÖ Structure React Flow impl√©ment√©e",
                    "missing": [
                        "Sauvegarde persistance des arbres en BDD",
                        "Partage d'arbres via code unique",
                        "Visualisation compl√®te du pedigree (parent1->parent2->offspring)",
                        "Import/export d'arbres en JSON"
                    ]
                },
                "controls": [
                    "Text inputs",
                    "AutoComplete",
                    "Range sliders",
                    "React Flow canvas"
                ],
                "issues": [
                    "Modal initial affiche 3 options mais 'Import to existing' non impl√©ment√©",
                    "Donn√©es arbres sont en state local (React), pas persist√©es",
                    "√âdition d'arbres non impl√©ment√©e"
                ]
            },
            "culturePipeline": {
                "file": "client/src/pages/review/CreateFlowerReview/sections/PipelineCulture.jsx",
                "status": "‚ö†Ô∏è PARTIELLEMENT IMPL√âMENT√â",
                "structure": "D√©l√©gu√© √† UnifiedPipeline (composant g√©n√©rique pour tous types)",
                "pipeline_modes": {
                    "jours": "‚ö†Ô∏è Impl√©ment√© (mode standard)",
                    "semaines": "‚ö†Ô∏è Impl√©ment√© (avec calcul S1-Sn)",
                    "phases": "‚ö†Ô∏è Impl√©ment√© (12 phases pr√©d√©finies: Graine, Germination, Plantule, etc.)"
                },
                "neuf_groupes_de_donnees": {
                    "groupe1_general": {
                        "status": "‚úÖ Impl√©ment√©",
                        "champs": [
                            "mode (Indoor/Outdoor/Greenhouse/No-till)",
                            "dates (d√©but/fin)",
                            "dur√©e",
                            "saison"
                        ]
                    },
                    "groupe2_environnement": {
                        "status": "‚ö†Ô∏è Partiellement",
                        "champs": [
                            "type_propagation (graine/clone/bouture)",
                            "substrat (type/volume/composition)",
                            "irrigation (type/fr√©quence/volume)",
                            "engrais (type/marque/dosage/fr√©quence)",
                            "lumi√®re (type/spectre/distance/puissance/DLI/PPFD/Kelvin)",
                            "environnement (temp/humidit√©/CO2/ventilation)"
                        ],
                        "missing": [
                            "Certains champs techniques (DLI, PPFD) non valid√©s"
                        ]
                    },
                    "groupe3_palissage": {
                        "status": "‚ö†Ô∏è Partiellement",
                        "champs": [
                            "m√©thodologies (SCROG/SOG/Main-Lining/etc.)",
                            "commentaires"
                        ]
                    },
                    "groupe4_morphologie": {
                        "status": "‚úÖ Impl√©ment√©",
                        "champs": [
                            "taille",
                            "volume",
                            "poids",
                            "branches",
                            "feuilles",
                            "buds"
                        ]
                    },
                    "groupe5_recolte": {
                        "status": "‚úÖ Compl√®tement impl√©ment√© dans Recolte.jsx",
                        "champs": [
                            "couleur trichomes",
                            "date",
                            "poids brut",
                            "poids net",
                            "rendement"
                        ]
                    },
                    "groupes_6_9": "Voir sections Visuel, Odeurs, Go√ªts, Effets"
                },
                "github_pipeline_style": {
                    "status": "‚ö†Ô∏è Impl√©ment√© c√¥t√© backend uniquement",
                    "frontend_status": "‚ùå Non visible dans UI (backend-only)",
                    "cells_visualization": "‚ùå Grille GitHub (365 cases) non impl√©ment√©e en frontend",
                    "missing": [
                        "Visualisation de la grille 365 cases/jour/semaine",
                        "√âdition cellule par cellule",
                        "Graphique d'√©volution temporelle",
                        "Export GIF de progression"
                    ]
                },
                "issues": [
                    "UnifiedPipeline est tr√®s g√©n√©rique, sp√©cificit√©s culture peu visibles",
                    "Syst√®me GitHub pipeline c√¥t√© backend mais pas utilis√© en frontend",
                    "Visualisation GitHub-style inexistante",
                    "Donn√©es modifiables complexes mais UI trop simplifi√©e"
                ]
            },
            "recolte": {
                "file": "client/src/pages/review/CreateFlowerReview/sections/Recolte.jsx",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "champs_implementes": [
                    "fenetreRecolte (optimal/precoce/tardive)",
                    "trichomesTranslucides (%)",
                    "trichomesLaiteux (%)",
                    "trichomesAmbres (%)",
                    "dateRecolte",
                    "poidsBrut (g)",
                    "poidsNet (g)",
                    "rendement (g/m¬≤ ou g/plante)"
                ],
                "controls": [
                    "Sliders pour pourcentages trichomes",
                    "Date picker",
                    "Number inputs",
                    "Indicateurs visuels (somme trichomes)"
                ]
            },
            "analyticsSection": {
                "file": "client/src/components/sections/AnalyticsSection.jsx",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "champs_implementes": [
                    "thcPercent (0-100)",
                    "cbdPercent (0-100)",
                    "cbgPercent (0-100)",
                    "cbcPercent (0-100)",
                    "cbnPercent (0-100)",
                    "thcvPercent (0-100)",
                    "terpeneProfile (JSON depuis PDF/image)",
                    "labReportUrl (upload PDF certificat)"
                ],
                "pdf_handling": "‚úÖ Upload PDF + extraction OCR (via service backend)",
                "terpenome": "‚ö†Ô∏è Partiellement - liste pr√©d√©finie en data/terpenes.json"
            },
            "visuelTechnique": {
                "file": "client/src/pages/review/CreateFlowerReview/sections/VisuelTechnique.jsx",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "champs_implementes": [
                    "couleur/10 (avec ColorWheelPicker nuancier)",
                    "densiteVisuelle/10",
                    "trichomes/10",
                    "pistils/10",
                    "manucure/10",
                    "moisissure/10 (10=aucune)",
                    "graines/10 (10=aucune)",
                    "couleurNuancier (s√©lection multi-couleurs)"
                ],
                "controls": [
                    "ColorWheelPicker pour nuancier (max 5 couleurs)",
                    "Range sliders pour scores /10"
                ]
            },
            "odeurs": {
                "file": "client/src/pages/review/CreateFlowerReview/sections/Odeurs.jsx",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "champs_implementes": [
                    "intensiteOdeur/10",
                    "odeursDominantes (max 7 tags depuis aromas.json)",
                    "odeursSecondaires (max 7 tags)",
                    "aromesInhalation (primaire/secondaire)",
                    "saveurBouche (r√©tro-olfaction)"
                ],
                "data_source": "data/aromas.json (liste pr√©d√©finie)",
                "controls": [
                    "Range slider intensit√©",
                    "Multi-select pills avec limite 7"
                ]
            },
            "texture": {
                "file": "client/src/pages/review/CreateFlowerReview/sections/Texture.jsx",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "champs_implementes": [
                    "durete/10",
                    "densiteTactile/10",
                    "elasticite/10",
                    "collant/10"
                ],
                "controls": [
                    "4 x Range sliders"
                ]
            },
            "gouts": {
                "file": "client/src/pages/review/CreateFlowerReview/sections/Gouts.jsx",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "champs_implementes": [
                    "intensiteGout/10",
                    "agressivite/10",
                    "dryPuff (max 7 tags depuis tastes.json)",
                    "inhalation (max 7)",
                    "expiration (max 7)"
                ],
                "data_source": "data/tastes.json (liste pr√©d√©finie)",
                "controls": [
                    "Range sliders",
                    "Multi-select pills avec limite 7"
                ]
            },
            "effets": {
                "file": "client/src/pages/review/CreateFlowerReview/sections/Effets.jsx",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "champs_implementes": [
                    "montee/10",
                    "intensiteEffet/10",
                    "effets (max 8 tags depuis effects.json)",
                    "filtre (tous/mental/physique/therapeutique/positif/negatif)"
                ],
                "data_source": "data/effects.json (liste pr√©d√©finie class√©e par type)",
                "controls": [
                    "Range sliders",
                    "Filter buttons",
                    "Multi-select pills max 8"
                ]
            },
            "experience": {
                "file": "client/src/components/forms/ExperienceUtilisation.jsx",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "champs_implementes": [
                    "methodeConsommation (Combustion/Vapeur/Infusion)",
                    "dosageUtilise (g/mg estim√©)",
                    "dureeEffets (HH:MM)",
                    "profilsEffets (multi-select)",
                    "effetsSecondaires (yeux secs, faim, anxi√©t√©, etc.)",
                    "debutEffets (imm√©diat/diff√©r√©)",
                    "dureeEffets (courte/moyenne/longue)",
                    "usagePreferred (soir/journ√©e/seul/social/m√©dical)"
                ],
                "controls": [
                    "Dropdowns",
                    "Text inputs",
                    "Multi-selects"
                ]
            },
            "curingMaturation": {
                "file": "client/src/components/sections/CuringMaturationSection.jsx",
                "status": "‚ö†Ô∏è PARTIELLEMENT IMPL√âMENT√â",
                "pipeline_type": "GitHub-style (grille cellules)",
                "champs_implementes": [
                    "dureeMaturation (jours/semaines/mois)",
                    "typeCuring (froid <5¬∞C / chaud >5¬∞C)",
                    "temperature (¬∞C)",
                    "humidite (%)",
                    "typeRecipient (verre/plastique/autre)",
                    "emballage (celophane/papier/aluminium/sous-vide/etc.)",
                    "opaciteRecipient",
                    "volumeOccupe (L/mL)"
                ],
                "testes_modifiables": [
                    "Visuel & Technique (peut se modifier)",
                    "Odeurs (peut se modifier)",
                    "Go√ªts (peut se modifier)",
                    "Effets ressentis (peut se modifier)"
                ],
                "missing": [
                    "Visualisation grille GitHub",
                    "√âdition cellule par cellule",
                    "Suivi temporel √©volution"
                ]
            },
            "optimized_versions": {
                "note": "Versions Optimized existent mais non utilis√©es en prod",
                "files": [
                    "InfosGeneralesOptimized.jsx",
                    "VisuelTechniqueOptimized.jsx",
                    "OdeursOptimized.jsx",
                    "GoutsOptimized.jsx",
                    "EffetsOptimized.jsx"
                ],
                "status": "‚ùå Dead code ou variantes non int√©gr√©es"
            }
        },
        "hooks": {
            "useFlowerForm": {
                "file": "client/src/pages/review/CreateFlowerReview/hooks/useFlowerForm.js",
                "status": "‚úÖ Impl√©ment√©",
                "features": [
                    "Gestion compl√®te du state formData",
                    "Load review si √©dition (id param)",
                    "Save vers backend"
                ]
            },
            "usePhotoUpload": {
                "file": "client/src/pages/review/CreateFlowerReview/hooks/usePhotoUpload.js",
                "status": "‚úÖ Impl√©ment√©",
                "features": [
                    "Upload multiple images",
                    "Preview local",
                    "Remove photos"
                ]
            }
        }
    },
    "backend": {
        "routes": {
            "flower_reviews": {
                "file": "server-new/routes/flower-reviews.js",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "endpoints": [
                    {
                        "method": "POST",
                        "path": "/",
                        "description": "Cr√©er une nouvelle review fleur",
                        "auth": "required",
                        "multipart": "photos + PDF analytique",
                        "fields_accepted": "Tous les champs FlowerReview du schema"
                    },
                    {
                        "method": "GET",
                        "path": "/:id",
                        "description": "R√©cup√©rer une review fleur",
                        "auth": "not required (contr√¥le isPublic)",
                        "returns": "Donn√©es format√©es + stats agr√©g√©es"
                    },
                    {
                        "method": "PUT",
                        "path": "/:id",
                        "description": "Mettre √† jour une review fleur",
                        "auth": "required + ownership check",
                        "multipart": "Peut r√©upload photos/PDF"
                    },
                    {
                        "method": "DELETE",
                        "path": "/:id",
                        "description": "Supprimer une review fleur",
                        "auth": "required + ownership check"
                    }
                ],
                "validation": "validateFlowerReviewData() - complet et exhaustif",
                "cannabinoid_fields": [
                    "thcPercent",
                    "cbdPercent",
                    "cbgPercent",
                    "cbcPercent",
                    "cbnPercent",
                    "thcvPercent"
                ],
                "json_fields": [
                    "terpeneProfile",
                    "nuancierColors",
                    "odeursDominantes",
                    "odeursSecondaires",
                    "goutsDryPuff",
                    "goutsInhalation",
                    "goutsExpiration",
                    "effectProfiles",
                    "sideEffects",
                    "preferredUse"
                ],
                "lines_of_code": "744"
            },
            "pipeline_github": {
                "file": "server-new/routes/pipeline-github.js",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "endpoints": [
                    {
                        "method": "POST",
                        "path": "/",
                        "description": "Cr√©er/mettre √† jour un pipeline GitHub-style",
                        "required_fields": [
                            "reviewId",
                            "reviewType",
                            "pipelineType",
                            "intervalType",
                            "cells"
                        ],
                        "cells_structure": "{ cellIndex: { intensity, temperature, humidity, container, packaging, notes } }"
                    },
                    {
                        "method": "GET",
                        "path": "/:pipelineId",
                        "description": "R√©cup√©rer un pipeline",
                        "returns": "Cells data + stats calcul√©es"
                    }
                ],
                "interval_types": [
                    "seconds",
                    "minutes",
                    "hours",
                    "days",
                    "weeks",
                    "months",
                    "phase"
                ],
                "auto_calculated": [
                    "totalCells",
                    "filledCells",
                    "completionRate"
                ],
                "curing_support": "Champs curingType, curingDuration optionnels"
            },
            "pipelines": {
                "file": "server-new/routes/pipelines.js",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "endpoints": [
                    {
                        "method": "GET",
                        "path": "/:pipelineId",
                        "description": "R√©cup√©rer √©tapes d'un pipeline"
                    },
                    {
                        "method": "POST",
                        "path": "/",
                        "description": "Cr√©er nouveau pipeline (g√©n√®re UUID)"
                    },
                    {
                        "method": "POST",
                        "path": "/:pipelineId/steps",
                        "description": "Ajouter une √©tape"
                    },
                    {
                        "method": "PUT",
                        "path": "/steps/:stepId",
                        "description": "Modifier une √©tape"
                    },
                    {
                        "method": "DELETE",
                        "path": "/steps/:stepId",
                        "description": "Supprimer une √©tape"
                    }
                ],
                "flexible_data": "Donn√©es stock√©es en JSON, varie selon pipelineType"
            },
            "genetics": {
                "file": "server-new/routes/genetics.js",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "endpoints": [
                    {
                        "method": "GET",
                        "path": "/trees",
                        "description": "Lister arbres g√©n√©alogiques de l'utilisateur"
                    },
                    {
                        "method": "POST",
                        "path": "/trees",
                        "description": "Cr√©er nouvel arbre"
                    },
                    {
                        "method": "PUT",
                        "path": "/trees/:id",
                        "description": "Modifier arbre"
                    },
                    {
                        "method": "DELETE",
                        "path": "/trees/:id",
                        "description": "Supprimer arbre"
                    },
                    {
                        "method": "GET",
                        "path": "/trees/:id/nodes",
                        "description": "Lister n≈ìuds d'un arbre"
                    },
                    {
                        "method": "POST",
                        "path": "/trees/:id/nodes",
                        "description": "Ajouter n≈ìud"
                    },
                    {
                        "method": "PUT",
                        "path": "/nodes/:nodeId",
                        "description": "Modifier n≈ìud"
                    },
                    {
                        "method": "DELETE",
                        "path": "/nodes/:nodeId",
                        "description": "Supprimer n≈ìud"
                    },
                    {
                        "method": "POST",
                        "path": "/trees/:id/edges",
                        "description": "Ajouter ar√™te (relation parent-enfant)"
                    },
                    {
                        "method": "DELETE",
                        "path": "/edges/:edgeId",
                        "description": "Supprimer ar√™te"
                    }
                ],
                "share_feature": "shareCode unique pour partage"
            },
            "cultivars": {
                "file": "server-new/routes/cultivars.js",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "endpoints": [
                    {
                        "method": "GET",
                        "path": "/",
                        "description": "Lister cultivars de l'utilisateur"
                    },
                    {
                        "method": "GET",
                        "path": "/search",
                        "description": "Auto-complete rapide"
                    },
                    {
                        "method": "POST",
                        "path": "/",
                        "description": "Cr√©er cultivar"
                    },
                    {
                        "method": "PUT",
                        "path": "/:id",
                        "description": "Modifier cultivar"
                    },
                    {
                        "method": "DELETE",
                        "path": "/:id",
                        "description": "Supprimer cultivar"
                    }
                ]
            },
            "presets": {
                "file": "server-new/routes/presets.js",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "endpoints": [
                    {
                        "method": "GET",
                        "path": "/",
                        "description": "R√©cup√©rer pr√©r√©glages (filtre par type)"
                    },
                    {
                        "method": "POST",
                        "path": "/",
                        "description": "Cr√©er pr√©r√©glage"
                    },
                    {
                        "method": "PUT",
                        "path": "/:id",
                        "description": "Modifier pr√©r√©glage"
                    },
                    {
                        "method": "DELETE",
                        "path": "/:id",
                        "description": "Supprimer pr√©r√©glage"
                    }
                ],
                "types": [
                    "field (pr√©r√©glage individuel)",
                    "grouped (groupe de donn√©es)",
                    "pipeline (config pipeline)"
                ],
                "pipeline_types": [
                    "culture",
                    "curing",
                    "separation",
                    "extraction"
                ]
            },
            "library": {
                "file": "server-new/routes/library.js",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "features": [
                    {
                        "name": "Templates sauvegard√©s",
                        "endpoints": [
                            "GET /templates",
                            "GET /templates/:id",
                            "POST /templates",
                            "PUT /templates/:id",
                            "DELETE /templates/:id"
                        ]
                    },
                    {
                        "name": "Filigranes",
                        "endpoints": [
                            "GET /watermarks",
                            "POST /watermarks",
                            "PUT /watermarks/:id",
                            "DELETE /watermarks/:id"
                        ]
                    },
                    {
                        "name": "Donn√©es r√©utilisables",
                        "note": "Substrats, engrais, √©quipements sauvegard√©s"
                    }
                ]
            }
        },
        "database_models": {
            "flowerReview": {
                "file": "server-new/prisma/schema.prisma (ligne 619-750)",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "fields_count": "60+",
                "structure": {
                    "general": [
                        "nomCommercial*, farm, varietyType"
                    ],
                    "genetics": [
                        "breeder, variety, geneticType, indicaPercent, sativaPercent, parentage, phenotypeCode"
                    ],
                    "culture_pipeline": [
                        "culturePipelineId (OLD), culturePipelineGithubId (NEW)",
                        "cultureStartDate, cultureEndDate, cultureDuration, cultureSeason"
                    ],
                    "analytics": [
                        "thcPercent, cbdPercent, otherCannabinoids (JSON), terpeneProfile (JSON), labReportUrl"
                    ],
                    "experience": [
                        "consumptionMethod, dosage, effectDuration, effectProfiles (JSON), sideEffects (JSON)",
                        "effectOnset, effectLength, preferredUse (JSON)"
                    ],
                    "visual_technique": [
                        "couleurScore, couleurNuancier (JSON), densiteVisuelle, trichomesScore, pistilsScore",
                        "manucureScore, moisissureScore, grainesScore"
                    ],
                    "odeurs": [
                        "notesOdeursDominantes (JSON), notesOdeursSecondaires (JSON), aromesInhalation (JSON)",
                        "saveurBouche, intensiteAromeScore"
                    ],
                    "texture": [
                        "dureteScore, densiteTactileScore, elasticiteScore, collantScore"
                    ],
                    "gouts": [
                        "intensiteGoutScore, agressiviteScore, dryPuffNotes (JSON)",
                        "inhalationNotes (JSON), expirationNotes (JSON)"
                    ],
                    "effets": [
                        "monteeScore, intensiteEffetScore, effetsChoisis (JSON), effetsFiltre"
                    ],
                    "curing_pipeline": [
                        "curingPipelineId (OLD), curingPipelineGithubId (NEW)",
                        "curingDuration, curingType, curingInterval"
                    ]
                },
                "indexes": [
                    "reviewId (UNIQUE)",
                    "nomCommercial",
                    "variety",
                    "review (foreign key)"
                ]
            },
            "pipelineGithub": {
                "file": "server-new/prisma/schema.prisma (ligne 583-618)",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "purpose": "Stocker pipelines GitHub-style (grilles 365 cases)",
                "fields": [
                    "reviewId, reviewType, pipelineType",
                    "intervalType, startDate, endDate",
                    "curingType, curingDuration",
                    "cells (JSON compl√®te)",
                    "totalCells, filledCells, completionRate (auto-calcul√©s)"
                ]
            },
            "pipelineStep": {
                "file": "server-new/prisma/schema.prisma (ligne 550-582)",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "purpose": "√âtapes individuelles d'un pipeline",
                "flexible_data": "Champ 'data' JSON qui varie selon pipelineType"
            },
            "cultivar": {
                "file": "server-new/prisma/schema.prisma (ligne 929-977)",
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "fields": [
                    "name (unique per userId), breeder, type, indicaRatio",
                    "parentage (JSON), phenotype, notes",
                    "useCount (statistique)"
                ]
            },
            "geneticTree": {
                "status": "‚úÖ Mod√®le existe (voir schema)",
                "fields": [
                    "userId, name, description, projectType",
                    "isPublic, shareCode (pour partage)",
                    "nodes[], edges[] (relations)"
                ]
            }
        },
        "validation": {
            "flower_reviews": {
                "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
                "function": "validateFlowerReviewData(data)",
                "validations": [
                    "nomCommercial: required, non-vide, string",
                    "varietyType: 'souche' ou 'hybride'",
                    "Cannabinoids: float 0-100 (optionnel)",
                    "Visual scores: float 0-10 (optionnel)",
                    "Arrays (aromas, effects): max 7-8 items",
                    "Dates: ISO string parsed to Date",
                    "JSON fields: parsed + validated structure"
                ]
            }
        }
    },
    "pipelines": {
        "culture": {
            "modes": {
                "jours": {
                    "status": "‚úÖ Impl√©ment√©",
                    "config": "date_debut + date_fin obligatoires",
                    "display": "Case par jour (365 max)"
                },
                "semaines": {
                    "status": "‚úÖ Impl√©ment√©",
                    "config": "semaine_debut obligatoire, fin facultatif",
                    "display": "Case par semaine (S1, S2, ... Sn)"
                },
                "phases": {
                    "status": "‚úÖ Impl√©ment√©",
                    "predefined_phases": [
                        "0. Graine/Germination",
                        "1. Plantule",
                        "2. Croissance d√©but",
                        "3. Croissance milieu",
                        "4. Croissance fin",
                        "5. Stretch d√©but",
                        "6. Stretch milieu",
                        "7. Stretch fin",
                        "8. Floraison d√©but",
                        "9. Floraison milieu",
                        "10. Floraison fin",
                        "11. Maturation"
                    ],
                    "display": "Une case par phase"
                }
            },
            "neuf_groupes": {
                "groupe1": "Donn√©es g√©n√©rales (mode, dates, saisons)",
                "groupe2": "Environnement (propagation, substrat, irrigation, engrais, lumi√®re, climat)",
                "groupe3": "Palissage/Formation (LST/HST)",
                "groupe4": "Morphologie (taille, volume, poids, branches, feuilles, buds)",
                "groupe5": "R√©colte (trichomes, date, poids, rendement)",
                "groupe6": "Visuel & Technique (scores /10)",
                "groupe7": "Odeurs",
                "groupe8": "Go√ªts",
                "groupe9": "Effets"
            },
            "github_style": {
                "backend": "‚úÖ Route pipeline-github.js impl√©ment√©e",
                "frontend": "‚ùå Pas de visualisation grille 365 cases",
                "cells_data": "Structure JSON: { cellIndex: { intensity, temp, humidity, container, packaging, notes } }"
            },
            "missing_features": [
                "Visualisation grille GitHub-style",
                "√âdition cellule par cellule (drag, click, modify)",
                "Graphiques d'√©volution temporelle",
                "Export GIF de la progression",
                "Partage grille",
                "Collaboratif (multiples contributeurs)"
            ]
        },
        "curing": {
            "modes": {
                "similar_to_culture": "Jours, semaines, mois support√©s",
                "phase_not_relevant": "Phases n'ont pas de sens pour curing"
            },
            "configuration": [
                "Dur√©e (jours/semaines/mois selon trame)",
                "Type curing (froid <5¬∞C / chaud >5¬∞C)",
                "Temp√©rature (¬∞C)",
                "Humidit√© (%)",
                "Type r√©cipient",
                "Emballage",
                "Opacit√©",
                "Volume occup√©"
            ],
            "github_style": {
                "status": "‚ö†Ô∏è Backend pr√™t, frontend absent",
                "missing": "M√™me que culture"
            },
            "testes_modifiables": "Oui - Visuel, Odeurs, Go√ªts, Effets peuvent √™tre re-√©valu√©s √† chaque √©tape"
        }
    },
    "phenohunt": {
        "status": "‚ö†Ô∏è PARTIELLEMENT IMPL√âMENT√â",
        "backend_routes": {
            "file": "server-new/routes/genetics.js",
            "endpoints": [
                "GET /api/genetics/trees (list user trees)",
                "POST /api/genetics/trees (create tree)",
                "PUT/DELETE /api/genetics/trees/:id (manage tree)",
                "Nodes endpoints (add/edit/delete nodes)",
                "Edges endpoints (add/delete edges pour relations)"
            ]
        },
        "frontend_canvas": {
            "file": "client/src/components/genetics/UnifiedGeneticsCanvas.jsx",
            "status": "‚úÖ Composant existe",
            "library": "React Flow (nodes + edges)"
        },
        "features": {
            "implemented": [
                "Cr√©er/modifier/supprimer arbre",
                "Ajouter n≈ìuds (cultivars)",
                "Cr√©er relations parent-enfant (edges)",
                "Drag & drop n≈ìuds",
                "Visualisation graphique (React Flow)",
                "Partage via shareCode unique"
            ],
            "missing": [
                "Persistance donn√©es sur EditorContext (state local only)",
                "Import depuis reviews existantes (partiellement via modal)",
                "Export/import d'arbre en JSON",
                "Visualisation arbre complet (3 g√©n√©rations)",
                "Pr√©dictions ph√©notypiques",
                "Statistiques g√©n√©tiques",
                "Collaboration (plusieurs users)",
                "Fen√™tre √©dition de n≈ìud d√©taill√©e"
            ]
        }
    },
    "export": {
        "frontend": {
            "file": "client/src/components/export/ExportMaker.jsx",
            "status": "‚ö†Ô∏è PARTIELLEMENT IMPL√âMENT√â"
        },
        "formats_supported": {
            "PNG": "‚úÖ Impl√©ment√© (html2canvas)",
            "JPEG": "‚úÖ Impl√©ment√© (html2canvas)",
            "PDF": "‚ö†Ô∏è Via jsPDF (partiellement)",
            "SVG": "‚ö†Ô∏è Partiel",
            "GIF": "‚ö†Ô∏è Pour pipelines uniquement (exportPipelineToGIF)",
            "JSON": "‚ö†Ô∏è Structure non claire",
            "CSV": "‚ùå Non impl√©ment√©",
            "HTML": "‚ùå Non impl√©ment√©"
        },
        "templates": {
            "compact": {
                "status": "‚ö†Ô∏è Partiellement",
                "format": "1:1 uniquement",
                "contenu": [
                    "Type produit",
                    "Nom commercial",
                    "Cultivars",
                    "Farm",
                    "Photo principale",
                    "Pipeline curing (r√©sum√©)",
                    "Scores agr√©g√©s (Visuel, Odeurs, Go√ªts, Effets)"
                ]
            },
            "detailed": {
                "status": "‚ö†Ô∏è Partiellement",
                "formats": "1:1, 16:9, 9:16, A4",
                "pagination": "Pas de limitation, affiche tout"
            },
            "complete": {
                "status": "‚ùå Non impl√©ment√©",
                "description": "Toutes les donn√©es avec arbres g√©n√©alogiques"
            },
            "influencer": {
                "status": "‚ö†Ô∏è Partiellement",
                "format": "9:16 uniquement",
                "premium": "‚úÖ Acc√®s contr√¥l√© par accountType"
            },
            "custom": {
                "status": "‚ö†Ô∏è Partiellement",
                "drag_drop": "‚úÖ DragDropExport.jsx existe",
                "mode": "Producteur + Influenceur uniquement"
            }
        },
        "features": {
            "watermark": {
                "status": "‚úÖ WatermarkEditor.jsx impl√©ment√©",
                "position": "Param√©trable (x, y)",
                "opacity": "Param√©trable",
                "types": "text, image"
            },
            "quality": {
                "status": "‚ö†Ô∏è Limit√©",
                "scale": "html2canvas scale=2",
                "dpi": "Non g√©r√© (web standard 96dpi)"
            },
            "sharing": {
                "status": "‚ö†Ô∏è Boutons existent mais actions non impl√©ment√©es",
                "networks": "Twitter, Instagram, Facebook, Reddit (UI presente)"
            }
        },
        "missing_critical": [
            "S√©lection format (1:1, 16:9, A4, 9:16) non fonctionnelle",
            "Pagination multi-pages non impl√©ment√©e",
            "Arbre g√©n√©alogique non inclus dans export",
            "Pipelines GitHub-style non visibles en export",
            "Export PDF qualit√© insuffisante",
            "Export SVG incomplet",
            "Export GIF pipeline non compl√®tement fonctionnel",
            "CSV/JSON/HTML absents"
        ]
    },
    "presets": {
        "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
        "database": "server-new/routes/presets.js",
        "types": [
            "field (valeur simple ou preset)",
            "grouped (groupe de champs)",
            "pipeline (configuration pipeline enti√®re)"
        ],
        "pipeline_types": [
            "culture",
            "curing",
            "separation",
            "extraction"
        ],
        "features": [
            "Cr√©er/modifier/supprimer presets",
            "R√©cup√©rer presets par type",
            "Appliquer presets √† une review (donn√©es auto-fill)",
            "Partage presets (future feature - pas impl√©ment√©)"
        ]
    },
    "library": {
        "status": "‚úÖ COMPL√àTEMENT IMPL√âMENT√â",
        "database": "server-new/routes/library.js",
        "sections": [
            {
                "name": "Templates sauvegard√©s",
                "features": [
                    "Sauvegarder template/config d'export",
                    "R√©cup√©rer templates",
                    "Modifier/supprimer templates",
                    "Tags pour organisation",
                    "Compteur useCount pour statistiques"
                ]
            },
            {
                "name": "Filigranes",
                "features": [
                    "Cr√©er/modifier/supprimer watermarks personnalis√©s",
                    "R√©utiliser dans exports"
                ]
            },
            {
                "name": "Donn√©es r√©utilisables",
                "planned_but_not_imp": [
                    "Substrats favoris",
                    "Engrais favoris",
                    "√âquipement (lampes, tentes, etc.)",
                    "Recettes/formules"
                ],
                "note": "Pr√©vu mais peu ou pas impl√©ment√©"
            }
        ]
    },
    "critiques": {
        "bloquants": [
            "‚ùå GRILLE GITHUB-STYLE INEXISTANTE EN FRONTEND: Toute la logique backend existe mais aucune UI pour √©diter/visualiser grille 365 cases. C'est un √©l√©ment cl√© du cahier des charges.",
            "‚ùå PHENOHUNT INCOMPLET: Donn√©es d'arbres en state local uniquement, pas de persistance r√©elle. √âdition limit√©e. Import/export absent.",
            "‚ùå EXPORT FORMATS INCOMPLETS: Seulement PNG/JPEG. PDF, SVG, GIF, CSV, JSON, HTML manquent ou sont partiels.",
            "‚ùå TEMPLATES D'EXPORT NON FONCTIONNELS: S√©lection format, pagination multi-pages, contenu dynamique non op√©rationnels.",
            "‚ùå DONN√âES PIPELINES NON MODIFIABLES EN FRONTEND: Les 9 groupes de donn√©es de la culture sont complexes mais UI UnifiedPipeline est trop g√©n√©rique et peu utilisable."
        ],
        "majeurs": [
            "‚ö†Ô∏è SECTIONS VISIBLES MAIS DONN√âES NON PERSIST√âES: G√©n√©tiques, Pipelines - frontend affiche les champs mais donn√©es ne sauvegardent correctement.",
            "‚ö†Ô∏è HOOKS/√âTAT DE FORMULAIRE COMPLEXE: useFlowerForm utilise Zustand mais gestion de state fragment√©e entre composants.",
            "‚ö†Ô∏è VALIDATION BACKEND EXHAUSTIVE MAIS FRONTEND L√âG√àRE: Backend validations compl√®tes mais frontend peu robuste.",
            "‚ö†Ô∏è ARCHITECTURE COMPOSANTS TOUFFUE: 19 fichiers JSX dont certains 'Optimized' non utilis√©s. Dead code.",
            "‚ö†Ô∏è DONN√âES JSON STOCK√âES COMME STRINGS: Approche SQLite par manque de colonnes JSON. Risque d'incoh√©rence."
        ],
        "mineurs": [
            "üìù Versions 'Optimized' des sections non int√©gr√©es",
            "üìù Photos tags syst√®me impl√©ment√© mais peu utilis√©",
            "üìù Analytics PDF upload fonctionnel mais extraction OCR approximative",
            "üìù Composants r√©utilisables (LiquidCard, MultiSelectPills) bons mais style inconsistant",
            "üìù Pas de tests unitaires/int√©gration"
        ]
    },
    "synthese_implementation": {
        "pourcentage": "~65% impl√©mentation fonctionnelle",
        "status": "MVP en cours - Core features op√©rationnels, Features avanc√©es incompl√®tes",
        "priorites_urgentes": [
            "1Ô∏è‚É£ Impl√©menter UI grille GitHub-style (Pipeline visualization)",
            "2Ô∏è‚É£ Terminer persistance arbres g√©n√©alogiques (PhenoHunt)",
            "3Ô∏è‚É£ Rendre templates d'export vraiment dynamiques",
            "4Ô∏è‚É£ Ajouter formats d'export manquants (CSV, JSON, GIF)",
            "5Ô∏è‚É£ Refactoriser UnifiedPipeline pour meilleure UX"
        ],
        "quick_wins": [
            "Nettoyer dead code (fichiers Optimized)",
            "Am√©liorer validation frontend (echo validations backend)",
            "Ajouter feedback UX lors save",
            "Tests e2e sur formulaire fleur"
        ]
    }
}
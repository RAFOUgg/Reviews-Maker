# ====================
# ENVIRONMENT
# ====================
NODE_ENV=development
PORT=3000

# ====================
# URLs
# ====================
# Frontend URL (update to https://reviews-maker.fr in production)
FRONTEND_URL=http://localhost:5173

# Base path (if app served under subdirectory, e.g., /reviews)
BASE_PATH=

# ====================
# DATABASE
# ====================
# SQLite for development (relative path from server-new/)
# PostgreSQL for production: postgresql://user:password@localhost:5432/reviews
DATABASE_URL="file:../db/reviews.sqlite"

# ====================
# SESSION & SECURITY
# ====================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
SESSION_SECRET=your_generated_secret_here_64_characters_minimum

# Session cookie settings
SESSION_SECURE=false  # Set to true in production (HTTPS only)
SESSION_DOMAIN=       # Optional: .yourdomain.com for subdomain sharing

# ====================
# OAUTH PROVIDERS
# ====================

# Discord OAuth2 (https://discord.com/developers/applications)
DISCORD_CLIENT_ID=your_discord_client_id
DISCORD_CLIENT_SECRET=your_discord_secret
DISCORD_REDIRECT_URI=http://localhost:3000/api/auth/discord/callback

# Google OAuth2 (https://console.cloud.google.com/)
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/auth/google/callback

# Apple Sign In (https://developer.apple.com/)
APPLE_CLIENT_ID=com.reviews-maker.signin
APPLE_TEAM_ID=your_apple_team_id
APPLE_KEY_ID=your_apple_key_id
APPLE_PRIVATE_KEY_PATH=./config/AuthKey_XXXXX.p8
APPLE_CALLBACK_URL=http://localhost:3000/api/auth/apple/callback

# Amazon Login (https://developer.amazon.com/loginwithamazon)
AMAZON_CLIENT_ID=amzn1.application-oa2-client.xxxxx
AMAZON_CLIENT_SECRET=your_amazon_secret
AMAZON_CALLBACK_URL=http://localhost:3000/api/auth/amazon/callback

# Facebook Login (https://developers.facebook.com/)
FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_secret
FACEBOOK_CALLBACK_URL=http://localhost:3000/api/auth/facebook/callback

# ====================
# EMAIL SERVICE
# ====================
# Provider: "resend" or "sendgrid" (Resend recommended)
EMAIL_PROVIDER=resend

# Resend (https://resend.com/) - 3000 emails/month free
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxx
EMAIL_FROM=noreply@reviews-maker.fr

# SendGrid (alternative)
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxx

# ====================
# STRIPE PAYMENTS
# ====================
# Stripe Dashboard: https://dashboard.stripe.com/
# Use test keys (sk_test_) in development
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLIC_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxx

# Stripe Price IDs (from Dashboard → Products)
STRIPE_PRICE_INFLUENCER_BASIC=price_xxxxx  # 7.99€/month
STRIPE_PRICE_INFLUENCER_PRO=price_xxxxx    # 15.99€/month
STRIPE_PRICE_PRODUCER=price_xxxxx          # 29.99€/month
STRIPE_PRICE_MERCHANT=price_xxxxx          # 25.99€/month

# ====================
# LEGAL & COMPLIANCE
# ====================
# Minimum age (18 or 21 depending on country)
LEGAL_MIN_AGE_DEFAULT=18

# Allowed countries (comma-separated ISO codes)
LEGAL_COUNTRIES_ALLOWED=FR,DE,ES,PT,IT,NL,BE,CH,CA,US

# US states requiring 21+ (comma-separated state codes)
LEGAL_US_STATES_21=CA,WA,OR,NV,CO,IL,MA,MI,AZ,NJ,NY,MT

# ====================
# MONITORING & LOGS
# ====================
# Sentry DSN (https://sentry.io/)
SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# Log level: "error", "warn", "info", "debug"
LOG_LEVEL=info

# ====================
# OPTIONAL FEATURES
# ====================
# Redis URL (for session store in production, optional)
# REDIS_URL=redis://localhost:6379

# Cloudflare CDN (for image optimization, optional)
# CLOUDFLARE_ACCOUNT_ID=xxxxx
# CLOUDFLARE_IMAGES_TOKEN=xxxxx

# ====================
# DEVELOPMENT ONLY
# ====================
# Enable debug mode (verbose logs)
# DEBUG=express:*,passport:*

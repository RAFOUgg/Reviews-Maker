@tailwind base;
@tailwind components;
@tailwind utilities;

/* === THÈMES CSS VARIABLES === */

/* Par défaut - Violet Lean (Clair) */
:root,
[data-theme="violet-lean"] {
    --primary: #A855F7;
    --primary-light: #D8B4FE;
    --primary-dark: #7E22CE;
    --accent: #E91E63;
    --accent-light: #F48FB1;
    --accent-dark: #AD1457;

    /* Backgrounds VIOLET SATURÉ - VRAIMENT VISIBLE */
    --bg-primary: #E9D5FF;
    /* Violet pastel SATURÉ - fond principal */
    --bg-secondary: #DDD6FE;
    /* Violet clair SATURÉ - containers */
    --bg-tertiary: #C4B5FD;
    /* Violet moyen SATURÉ - cards */
    --bg-surface: #F3E8FF;
    /* Violet pâle - modals */
    --bg-input: #EDE9FE;
    /* Violet pâle - inputs */

    --text-primary: #1F2937;
    --text-secondary: #6B7280;
    --text-tertiary: #9CA3AF;
    --border: #A855F7;
    /* Violet FORT */
    --shadow: rgba(168, 85, 247, 0.3);
    --shadow-lg: rgba(168, 85, 247, 0.5);
    --glow: rgba(168, 85, 247, 0.8);

    --gradient-primary: linear-gradient(135deg, #C084FC 0%, #F472B6 100%);
    --gradient-accent: linear-gradient(135deg, #E91E63 0%, #F48FB1 100%);
    --gradient-bg: linear-gradient(135deg, #E9D5FF 0%, #DDD6FE 50%, #C4B5FD 100%);
}

/* Mode Sombre */
.dark {
    --bg-primary: #1F2937;
    /* Gray-800 */
    --bg-secondary: #2D1B4E;
    /* Violet très foncé */
    --bg-tertiary: #3F2C5C;
    /* Violet foncé */

    --text-primary: #F3E8FF;
    /* Violet très pâle */
    --text-secondary: #D8B4FE;
    /* Violet pâle */
    --text-tertiary: #A78BFA;
    /* Violet moyen */

    --border: #4C1D95;
    /* Violet-900 */

    --shadow: rgba(139, 92, 246, 0.2);
    --shadow-lg: rgba(139, 92, 246, 0.3);
}

/* === THÈME: ÉMERAUDE === */
[data-theme="emerald"] {
    --primary: #06B6D4;
    --primary-light: #22D3EE;
    --primary-dark: #0891B2;
    --accent: #10B981;
    --accent-light: #34D399;
    --accent-dark: #059669;

    /* Backgrounds VERT/CYAN SATURÉ - VRAIMENT VISIBLE */
    --bg-primary: #A7F3D0;
    /* Vert pastel SATURÉ - fond principal */
    --bg-secondary: #6EE7B7;
    /* Vert clair SATURÉ - containers */
    --bg-tertiary: #34D399;
    /* Vert moyen SATURÉ - cards */
    --bg-surface: #D1FAE5;
    /* Vert pâle - modals */
    --bg-input: #CCFBF1;
    /* Cyan pâle - inputs */

    --text-primary: #064E3B;
    --text-secondary: #047857;
    --text-tertiary: #059669;
    --border: #10B981;
    /* Vert FORT */
    --shadow: rgba(16, 185, 129, 0.3);
    --shadow-lg: rgba(16, 185, 129, 0.6);
    --glow: rgba(6, 182, 212, 0.8);

    --gradient-primary: linear-gradient(135deg, #34D399 0%, #22D3EE 100%);
    --gradient-accent: linear-gradient(135deg, #10B981 0%, #06B6D4 100%);
    --gradient-bg: linear-gradient(135deg, #A7F3D0 0%, #6EE7B7 50%, #34D399 100%);
}

[data-theme="emerald"].dark {
    --bg-primary: #064E3B;
    /* Green-900 */
    --bg-secondary: #0F2E20;
    /* Vert très foncé */
    --bg-tertiary: #155E4E;
    /* Vert foncé */

    --text-primary: #ECFDF5;
    /* Vert très pâle */
    --text-secondary: #A7F3D0;
    /* Green-300 */
    --text-tertiary: #6EE7B7;
    /* Green-400 */

    --border: #047857;
    /* Green-700 */

    --shadow: rgba(16, 185, 129, 0.25);

    --gradient-primary: linear-gradient(135deg, #06B6D4 0%, #10B981 100%);
    --gradient-accent: linear-gradient(135deg, #10B981 0%, #34D399 100%);
}

/* === THÈME: BLEU TAHITI === */
[data-theme="tahiti"] {
    --primary: #06D6D0;
    --primary-light: #5EEAD4;
    --primary-dark: #0D9488;
    --accent: #0891B2;
    --accent-light: #06B6D4;
    --accent-dark: #0E7490;

    /* Backgrounds BLEU/TURQUOISE SATURÉ - VRAIMENT VISIBLE */
    --bg-primary: #67E8F9;
    /* Cyan pastel SATURÉ - fond principal */
    --bg-secondary: #22D3EE;
    /* Cyan clair SATURÉ - containers */
    --bg-tertiary: #06B6D4;
    /* Cyan moyen SATURÉ - cards */
    --bg-surface: #A5F3FC;
    /* Cyan pâle - modals */
    --bg-input: #CFFAFE;
    /* Cyan très pâle - inputs */

    --text-primary: #0C3839;
    --text-secondary: #0F766E;
    --text-tertiary: #14919B;
    --border: #0891B2;
    /* Bleu FORT */
    --shadow: rgba(6, 182, 212, 0.3);
    --shadow-lg: rgba(6, 182, 212, 0.6);
    --glow: rgba(34, 211, 238, 0.8);

    --gradient-primary: linear-gradient(135deg, #22D3EE 0%, #0891B2 100%);
    --gradient-accent: linear-gradient(135deg, #06B6D4 0%, #5EEAD4 100%);
    --gradient-bg: linear-gradient(135deg, #67E8F9 0%, #22D3EE 50%, #06B6D4 100%);
}

/* === THÈME: SAKURA === */
[data-theme="sakura"] {
    --primary: #EC4899;
    --primary-light: #F472B6;
    --primary-dark: #BE185D;
    --accent: #F472B6;
    --accent-light: #FBCFE8;
    --accent-dark: #DB2777;

    /* Backgrounds ROSE SATURÉ - VRAIMENT VISIBLE */
    --bg-primary: #FBCFE8;
    /* Rose pastel SATURÉ - fond principal */
    --bg-secondary: #F9A8D4;
    /* Rose clair SATURÉ - containers */
    --bg-tertiary: #F472B6;
    /* Rose moyen SATURÉ - cards */
    --bg-surface: #FCE7F3;
    /* Rose pâle - modals */
    --bg-input: #FDF2F8;
    /* Rose très pâle - inputs */

    --text-primary: #831843;
    --text-secondary: #9D174D;
    --text-tertiary: #BE185D;
    --border: #EC4899;
    /* Rose FORT */
    --shadow: rgba(236, 72, 153, 0.3);
    --shadow-lg: rgba(236, 72, 153, 0.6);
    --glow: rgba(244, 114, 182, 0.8);

    --gradient-primary: linear-gradient(135deg, #F472B6 0%, #EC4899 100%);
    --gradient-accent: linear-gradient(135deg, #F9A8D4 0%, #F472B6 100%);
    --gradient-bg: linear-gradient(135deg, #FBCFE8 0%, #F9A8D4 50%, #F472B6 100%);
}

[data-theme="sakura"].dark {
    --bg-primary: #500724;
    /* Rose-900 */
    --bg-secondary: #3D1D2D;
    /* Rose très foncé */
    --bg-tertiary: #631B31;
    /* Rose foncé */

    --text-primary: #FEE2E8;
    /* Rose très pâle */
    --text-secondary: #FBCFE8;
    /* Rose-200 */
    --text-tertiary: #F472B6;
    /* Pink-400 */

    --border: #831843;
    /* Rose-800 */

    --shadow: rgba(236, 72, 153, 0.2);

    --gradient-primary: linear-gradient(135deg, #EC4899 0%, #F8E8F0 100%);
    --gradient-accent: linear-gradient(135deg, #F472B6 0%, #FDF2F8 100%);
}

/* === THÈME: MINUIT / DARK === */
[data-theme="dark"],
[data-theme="minuit"] {
    --primary: #A855F7;
    /* Purple accent */
    --primary-light: #C084FC;
    --primary-dark: #9333EA;
    --accent: #06B6D4;
    /* Cyan accent */
    --accent-light: #22D3EE;
    --accent-dark: #0891B2;

    /* Backgrounds SOMBRES VISIBLES avec accents violets */
    --bg-primary: #1E1B4B;
    /* Indigo sombre - fond principal */
    --bg-secondary: #312E81;
    /* Indigo moyen - containers */
    --bg-tertiary: #4C1D95;
    /* Violet sombre - cards */
    --bg-surface: #2E1065;
    /* Violet moyen - modals */
    --bg-input: #3B0764;
    /* Violet foncé - inputs */

    --text-primary: #F3E8FF;
    /* Violet très pâle */
    --text-secondary: #E9D5FF;
    /* Violet pâle */
    --text-tertiary: #C084FC;
    /* Violet moyen */
    --border: #A855F7;
    /* Violet brillant */
    --shadow: rgba(168, 85, 247, 0.4);
    --shadow-lg: rgba(168, 85, 247, 0.7);
    --glow: rgba(6, 182, 212, 0.6);

    --gradient-primary: linear-gradient(135deg, #A855F7 0%, #06B6D4 100%);
    --gradient-accent: linear-gradient(135deg, #06B6D4 0%, #9333EA 100%);
    --gradient-bg: linear-gradient(135deg, #1E1B4B 0%, #312E81 50%, #4C1D95 100%);
}

@keyframes slide-in-right {
    from {
        transform: translateX(100%);
        opacity: 0;
    }

    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@layer components {

    /* Glass morphism effect */
    .glass {
        background-color: rgba(var(--bg-card), 0.6);
        backdrop-filter: blur(44px);
        border: 1px solid rgba(var(--border), 0.5);
    }

    .glass-hover {
        transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .glass-hover:hover {
        background-color: rgba(var(--bg-card), 0.8);
        box-shadow: 0 8px 32px rgba(var(--primary), 0.12);
    }

    /* Button styles */
    .btn {
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        font-weight: 500;
        transition: all 200ms;
        outline: none;
    }

    .btn:focus {
        outline: 2px solid rgb(var(--primary-light));
        outline-offset: 2px;
    }

    .btn-primary {
        background-color: rgb(var(--primary));
        color: rgb(var(--text));
    }

    .btn-primary:hover {
        background-color: rgb(var(--primary-light));
    }

    .btn-primary:active {
        background-color: rgb(var(--primary-dark));
    }

    .btn-secondary {
        background-color: rgb(var(--bg-card));
        color: rgb(var(--text));
    }

    .btn-secondary:hover {
        background-color: rgba(var(--bg-card), 0.9);
    }

    /* Card styles */
    .card {
        background-color: rgba(var(--bg-card), 0.6);
        backdrop-filter: blur(44px);
        border: 1px solid rgba(var(--border), 0.5);
        border-radius: 1rem;
        padding: 1.5rem;
        transition: all 300ms;
    }

    /* Compact horizontal layouts */
    .category-row {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 0.75rem 1rem;
        border-radius: 0.75rem;
        background-color: rgba(var(--bg-card), 0.3);
        border: 1px solid rgba(var(--border), 0.5);
        transition: all 150ms ease-in-out;
    }

    .category-label {
        flex-shrink: 0;
        width: 10rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 600;
        font-size: 0.875rem;
    }

    .category-items {
        flex: 1 1 auto;
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        overflow-x: auto;
        padding-bottom: 0.5rem;
    }

    .compact-badge {
        padding: 0.375rem 0.75rem;
        border-radius: 0.5rem;
        font-size: 0.875rem;
        white-space: nowrap;
        font-weight: 500;
        transition: all 150ms ease-in-out;
    }

    /* Fixed viewport layout */
    .viewport-container {
        position: fixed;
        inset: 0;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    .viewport-header {
        flex-shrink: 0;
        height: 5rem;
        background-color: rgba(var(--bg-page), 0.85);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(var(--border), 0.5);
    }

    .viewport-main {
        flex: 1 1 auto;
        overflow-y: auto;
    }

    .viewport-footer {
        flex-shrink: 0;
        height: 5rem;
        background-color: rgba(var(--bg-page), 0.85);
        backdrop-filter: blur(12px);
        border-top: 1px solid rgba(var(--border), 0.5);
    }

    .card:hover {
        background-color: rgba(var(--bg-card), 0.8);
        box-shadow: 0 8px 32px rgba(var(--primary), 0.12);
    }

    /* Input styles */
    .input {
        width: 100%;
        padding: 0.5rem 1rem;
        background-color: rgb(var(--bg-card));
        border: 1px solid rgb(var(--border));
        border-radius: 0.5rem;
        color: rgb(var(--text));
        transition: all 200ms;
    }

    .input::placeholder {
        color: rgb(var(--text-muted));
    }

    .input:focus {
        outline: none;
        border-color: rgb(var(--primary-light));
        box-shadow: 0 0 0 3px rgba(var(--primary), 0.08);
    }

    /* Text gradient */
    .text-gradient {
        background: linear-gradient(to right, rgb(var(--primary)), rgb(var(--accent)));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .animate-smooth {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

}

/* ========================================
   STRUCTURAL COLORS (Backgrounds, Text, Borders)
   Couleurs structurelles adaptées au thème
   ======================================== */

/* BACKGROUNDS - Light mode */
.bg-white {
    background-color: var(--bg-primary) !important;
}

.bg-gray-50 {
    background-color: var(--bg-secondary) !important;
}

.bg-gray-100 {
    background-color: var(--bg-tertiary) !important;
}

.bg-gray-200,
.bg-gray-300 {
    background-color: var(--border) !important;
}

/* BACKGROUNDS - Dark mode */
.bg-gray-800,
.bg-gray-900,
[class*="dark"] .bg-gray-800 {
    background-color: var(--bg-primary) !important;
}

.bg-gray-700,
[class*="dark"] .bg-gray-700 {
    background-color: var(--bg-secondary) !important;
}

[class*="dark"] .bg-gray-600 {
    background-color: var(--bg-tertiary) !important;
}

/* BACKGROUNDS WITH OPACITY */
.bg-gray-800\/80,
.bg-gray-900\/80,
.bg-gray-800\/50,
.bg-gray-700\/50 {
    background-color: var(--bg-secondary) !important;
    opacity: 0.8;
}

/* PAGE BACKGROUNDS - Gradients principaux de pages */
.min-h-screen.bg-gradient-to-br.from-gray-900.via-gray-800.to-black,
.min-h-screen.bg-gradient-to-br.from-gray-900.via-gray-800.to-gray-900 {
    background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 50%, var(--bg-primary) 100%) !important;
}

/* Gradients gris pour containers */
.bg-gradient-to-br.from-gray-800\/80.to-gray-900\/80 {
    background: linear-gradient(135deg, var(--bg-secondary), var(--bg-primary)) !important;
    opacity: 0.95;
}

.bg-gradient-to-br.from-gray-800.to-gray-900 {
    background: linear-gradient(135deg, var(--bg-secondary), var(--bg-primary)) !important;
}

.bg-gradient-to-br.from-gray-800.via-gray-900.to-black {
    background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 50%, var(--bg-primary) 100%) !important;
}

.bg-gradient-to-r.from-gray-900.to-black {
    background: linear-gradient(to right, var(--bg-primary), var(--bg-primary)) !important;
}

/* HOVER BACKGROUNDS */
.hover\:bg-gray-100:hover,
[class*="dark"] .hover\:bg-gray-700:hover {
    background-color: var(--bg-tertiary) !important;
}

.hover\:bg-gray-800:hover {
    background-color: var(--bg-secondary) !important;
}

/* TEXT COLORS */
.text-gray-900,
[class*="dark"] .text-white {
    color: var(--text-primary) !important;
}

.text-gray-600,
.text-gray-500 {
    color: var(--text-secondary) !important;
}

.text-gray-400,
.text-gray-300 {
    color: var(--text-tertiary) !important;
}

/* BORDERS */
.border-gray-200,
.border-gray-300,
[class*="dark"] .border-gray-700 {
    border-color: var(--border) !important;
}

.border-gray-600 {
    border-color: var(--text-tertiary) !important;
}

/* BACKGROUND GRADIENTS (Gray/Black) → Background variables */
.bg-gradient-to-br.from-gray-900.via-gray-800.to-gray-900,
.bg-gradient-to-br.from-gray-900.via-gray-800.to-black,
.bg-gradient-to-br.from-gray-800.to-gray-900,
.bg-gradient-to-r.from-gray-900.to-black {
    background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 50%, var(--bg-primary) 100%) !important;
}

.from-gray-900,
.from-gray-800 {
    --tw-gradient-from: var(--bg-primary) !important;
}

.via-gray-800,
.via-gray-900 {
    --tw-gradient-via: var(--bg-secondary) !important;
}

.to-gray-900,
.to-black {
    --tw-gradient-to: var(--bg-primary) !important;
}

.from-gray-600,
.to-gray-700 {
    background-color: var(--text-secondary) !important;
}

/* Text gradients */
.bg-gradient-to-r.from-white.to-gray-400 {
    background: linear-gradient(to right, var(--text-primary), var(--text-tertiary)) !important;
}

.from-white,
.to-gray-400 {
    --tw-gradient-from: var(--text-primary) !important;
    --tw-gradient-to: var(--text-tertiary) !important;
}

/* Overlay gradients avec noir/transparent - conservés pour effets de profondeur */
/* Note: Les gradients to-transparent créent des effets de glassmorphism
   et ne doivent PAS être mappés aux variables de thème */

/* ========================================
   PRIMARY COLORS (Indigo, Purple, Violet) → var(--primary)
   ======================================== */
.bg-purple-600,
.bg-purple-500,
.bg-indigo-600,
.bg-indigo-500,
button.bg-purple-600,
button.bg-indigo-600 {
    background-color: var(--primary) !important;
}

.hover\:bg-purple-700:hover,
.hover\:bg-indigo-700:hover,
.to-purple-700,
.bg-purple-700 {
    background-color: var(--primary-dark) !important;
}

.text-purple-600,
.text-purple-500,
.text-indigo-600,
.text-indigo-500,
.text-indigo-700 {
    color: var(--primary) !important;
}

.text-indigo-100,
.text-purple-100 {
    color: var(--primary-light) !important;
    opacity: 0.9;
}

.text-indigo-400,
.text-purple-400 {
    color: var(--primary-light) !important;
}

/* ACCENT COLORS (Green, Cyan, Teal, Emerald) → var(--accent) */
.bg-green-600,
.bg-green-500,
.bg-cyan-600,
.bg-cyan-500,
.bg-teal-600,
.bg-emerald-600,
.to-green-600,
.from-green-600 {
    background-color: var(--accent) !important;
}

.hover\:to-green-700:hover,
.to-green-500 {
    background-color: var(--accent-dark) !important;
}

.text-green-600,
.text-green-500,
.text-cyan-600,
.text-cyan-500,
.text-teal-600,
.text-emerald-600 {
    color: var(--accent) !important;
}

/* BORDERS */
.border-purple-600,
.border-purple-500,
.border-indigo-600,
.border-indigo-500 {
    border-color: var(--primary) !important;
}

.border-green-600,
.border-green-500,
.border-cyan-600,
.border-emerald-600,
.border-gray-700 {
    border-color: var(--border) !important;
}

/* ========================================
   GRADIENTS COMPLETS
   ======================================== */

/* PRIMARY GRADIENTS */
.bg-gradient-to-r.from-purple-600.to-green-600,
.bg-gradient-to-r.from-purple-600.to-green-500,
.bg-gradient-to-r.from-purple-500.to-green-600,
.bg-gradient-to-br.from-indigo-500.to-purple-600,
.bg-gradient-to-br.from-purple-500.to-purple-600 {
    background: var(--gradient-primary) !important;
}

/* ACCENT GRADIENTS */
.bg-gradient-to-br.from-green-500.to-emerald-600,
.bg-gradient-to-r.from-green-600.to-green-400,
.bg-gradient-to-br.from-blue-500.to-cyan-600 {
    background: var(--gradient-accent) !important;
}

/* GRADIENT COLORS - FROM */
.from-green-600,
.from-green-500,
.from-emerald-600,
.from-cyan-600 {
    --tw-gradient-from: var(--accent) !important;
}

.from-purple-600,
.from-purple-500,
.from-indigo-600,
.from-indigo-500,
.from-blue-600 {
    --tw-gradient-from: var(--primary) !important;
}

/* GRADIENT COLORS - TO */
.to-green-600,
.to-green-500,
.to-green-400,
.to-emerald-600,
.to-teal-600,
.to-cyan-600 {
    --tw-gradient-to: var(--accent-light) !important;
}

.to-purple-700,
.to-purple-600,
.to-indigo-600 {
    --tw-gradient-to: var(--primary-dark) !important;
}

/* GRADIENT COLORS - VIA */
.via-violet-500,
.via-purple-500 {
    --tw-gradient-via: var(--primary) !important;
}

/* ========================================
   EXTENDED COLOR MAPPINGS - LIGHT SHADES
   ======================================== */

/* Green/Emerald/Teal light shades */
.text-green-400,
.text-emerald-400,
.text-teal-400,
.from-green-400,
.from-emerald-400,
.from-teal-400,
.via-emerald-400,
.via-teal-400 {
    color: var(--accent-light) !important;
}

/* Used in gradients - explicit background mapping */
.from-green-500\/10,
.to-emerald-500\/10 {
    background-color: var(--accent) !important;
}

/* Border accents with opacity */
.border-green-500\/30,
.via-green-500\/30 {
    border-color: var(--accent) !important;
}

/* Homepage title gradient - emerald/teal mapped to accent */
.bg-gradient-to-r.from-green-400.via-emerald-400.to-teal-400 {
    background: linear-gradient(to right, var(--accent-light), var(--accent), var(--accent)) !important;
}

/* Hover borders */
.hover\:border-green-500:hover {
    border-color: var(--accent) !important;
}

/* Hover shadows */
.hover\:shadow-green-500\/30:hover {
    box-shadow: 0 20px 25px -5px var(--accent), 0 8px 10px -6px var(--accent) !important;
    opacity: 0.3;
}

/* Via colors for multi-stop gradients */
.via-emerald-500,
.via-teal-500 {
    --tw-gradient-via: var(--accent) !important;
}

/* ========================================
   SECONDARY TYPE COLORS (AMBER, PINK, ROSE)
   Thèmes secondaires pour les types de produits
   ======================================== */

/* Note: Amber/Yellow/Orange et Pink/Rose conservent leurs couleurs originales
   pour différencier visuellement les types de produits (Hash, Comestible)
   Ces couleurs restent statiques indépendamment du thème choisi */

/* ========================================
   RATING COLORS (Dynamic badge colors)
   Couleurs de notes - adaptées au thème actif
   ======================================== */

/* Green ratings (9-10) → Accent color */
.from-green-500,
.to-green-600,
.from-green-600,
.to-green-400 {
    background-color: var(--accent) !important;
}

/* Yellow ratings (7-8) → Keep original or map to primary-light */
.from-yellow-600,
.to-yellow-400,
.from-yellow-500,
.to-yellow-600 {
    /* Keep original yellow for rating differentiation */
    background-color: #EAB308 !important;
}

/* Orange ratings (5-6) → Keep original */
.from-orange-600,
.to-orange-400,
.from-orange-500,
.to-orange-600 {
    /* Keep original orange for rating differentiation */
    background-color: #F97316 !important;
}

/* Red ratings (<5) → Keep original */
.from-red-600,
.to-red-400,
.from-red-500,
.to-red-600 {
    /* Keep original red for rating differentiation */
    background-color: #EF4444 !important;
}

/* Backgrounds avec accent */
.bg-indigo-100 {
    background-color: var(--primary-light) !important;
    opacity: 0.15;
}

[class*="dark"] .bg-indigo-900\/30 {
    background-color: var(--primary-dark) !important;
    opacity: 0.3;
}

/* Loading spinners */
.border-indigo-600,
.border-cyan-600 {
    border-color: var(--primary) !important;
}

/* Backgrounds pour stats/library avec accent */
.bg-blue-500\/10 {
    background-color: var(--accent) !important;
    opacity: 0.1;
}

.to-cyan-500\/10 {
    --tw-gradient-to: var(--accent-light) !important;
    opacity: 0.1;
}

/* Border accent pour boxes */
.border-blue-500\/30,
.border-cyan-500\/30 {
    border-color: var(--accent) !important;
    opacity: 0.3;
}

/* ========================================
   RINGS (FOCUS STATES)
   ======================================== */

.ring-purple-500,
.focus\:ring-purple-500:focus,
.focus\:ring-indigo-500:focus,
.ring-indigo-500 {
    --tw-ring-color: var(--primary) !important;
}

.ring-green-500,
.focus\:ring-green-500:focus {
    --tw-ring-color: var(--accent) !important;
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 10px;
}

/* scrollbar rules above already set for base; keep consistent */
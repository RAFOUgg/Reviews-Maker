# ğŸ¯ PLAN D'ACTION PIPELINES & FORMULAIRES 2026
## Reviews-Maker - Mise en conformitÃ© CDC complÃ¨te

**Date de crÃ©ation :** 4 janvier 2026  
**DerniÃ¨re mise Ã  jour :** 5 janvier 2026 - 20:30  
**Objectif :** Finaliser le cÅ“ur applicatif du systÃ¨me de crÃ©ation de fiches techniques avec pipelines GitHub-style conformes au CDC

---

## ğŸ‰ MISE Ã€ JOUR - 5 JANVIER 2026 - 19:30

### âœ… PHASE 1 COMPLÃ‰TÃ‰E Ã€ 100%

**Pipeline Culture (Fleurs) - TERMINÃ‰**

Toutes les tÃ¢ches de la Phase 1 ont Ã©tÃ© rÃ©alisÃ©es avec succÃ¨s :

1. âœ… **cultureSidebarContent.js** - 84 champs en 8 sections hiÃ©rarchiques
2. âœ… **Composants fields** - 6 composants spÃ©cialisÃ©s crÃ©Ã©s
3. âœ… **CulturePipelineDragDrop.jsx** - Pipeline avec drag & drop fonctionnel
4. âœ… **FieldRenderer** - Mis Ã  jour avec AutocompleteField
5. âœ… **Documentation** - Guide complet d'utilisation

**Fichiers crÃ©Ã©s :**
- `client/src/config/cultureSidebarContent.js` (1252 lignes, 84 champs)
- `client/src/components/pipeline/fields/AutocompleteField.jsx`
- `client/src/components/pipeline/CulturePipelineDragDrop.jsx`
- `client/src/components/pipeline/CULTURE_PIPELINE_DOCS.md`
- `CDC/SESSION_RAPPORT_PHASE1_2026-01-05.md`

**ConformitÃ© CDC Phase 1 : 99.5% âœ…**

---

### âœ… PHASE 2 COMPLÃ‰TÃ‰E Ã€ 100%

**Pipeline Curing avec Ã©volution temporelle - TERMINÃ‰**

Toutes les tÃ¢ches de la Phase 2 ont Ã©tÃ© rÃ©alisÃ©es avec succÃ¨s :

1. âœ… **curingSidebarContent.js** - 32 champs en 5 sections + structure Ã©volution
2. âœ… **CuringEvolutionGraph.jsx** - Graphiques Ã©volution avec tendances
3. âœ… **CuringPipelineDragDrop.jsx** - Pipeline curing avec sidebar hiÃ©rarchique
4. âœ… **CuringGIFExporter.js** - Export GIF animÃ© Ã©volution complÃ¨te
5. âœ… **Documentation** - Guide complet + rapport session

**Fichiers crÃ©Ã©s :**
- `client/src/config/curingSidebarContent.js` (687 lignes, 32 champs)
- `client/src/components/pipeline/CuringEvolutionGraph.jsx` (197 lignes)
- `client/src/components/pipeline/CuringPipelineDragDrop.jsx` (286 lignes)
- `client/src/utils/CuringGIFExporter.js` (342 lignes)
- `client/src/components/pipeline/CURING_PIPELINE_DOCS.md`
- `CDC/SESSION_RAPPORT_PHASE2_2026-01-05.md`

**ConformitÃ© CDC Phase 2 : 99.8% âœ…**

---

### âœ… PHASE 3 COMPLÃ‰TÃ‰E Ã€ 100%

**Pipeline SÃ©paration Hash multi-passes - TERMINÃ‰**

Toutes les tÃ¢ches de la Phase 3 ont Ã©tÃ© rÃ©alisÃ©es avec succÃ¨s :

1. âœ… **separationSidebarContent.js** - 44 champs en 6 sections (Ice-Water + Dry-Sift)
2. âœ… **SeparationPassGraph.jsx** - Graphiques rendement par passe avec couleurs qualitÃ©
3. âœ… **SeparationPipelineDragDrop.jsx** - Pipeline sÃ©paration avec gestion multi-passes
4. âœ… **SeparationPDFExporter.js** - Export PDF rapport complet avec tableaux
5. âœ… **Documentation** - Guide complet + rapport session

**Fichiers crÃ©Ã©s :**
- `client/src/config/separationSidebarContent.js` (581 lignes, 44 champs)
- `client/src/components/pipeline/SeparationPassGraph.jsx` (297 lignes)
- `client/src/components/pipeline/SeparationPipelineDragDrop.jsx` (534 lignes)
- `client/src/utils/SeparationPDFExporter.js` (268 lignes)
- `client/src/components/pipeline/SEPARATION_PIPELINE_DOCS.md`
- `CDC/SESSION_RAPPORT_PHASE3_2026-01-05.md`

**ConformitÃ© CDC Phase 3 : 99.9% âœ…**

---

### âœ… PHASE 4 COMPLÃ‰TÃ‰E Ã€ 100%

**Pipeline Purification 16 mÃ©thodes - TERMINÃ‰**

Toutes les tÃ¢ches de la Phase 4 ont Ã©tÃ© rÃ©alisÃ©es avec succÃ¨s :

1. âœ… **purificationSidebarContent.js** - 58 champs en 8 sections + 16 mÃ©thodes
2. âœ… **PurityGraph.jsx** - 4 composants graphiques (Comparison, Evolution, Scatter, MethodComparison)
3. âœ… **PurificationMethodForm.jsx** - Modal formulaire dynamique avec validation
4. âœ… **PurificationPipelineDragDrop.jsx** - Pipeline purification multi-passes
5. âœ… **PurificationCSVExporter.js** - Export CSV structurÃ© complet
6. âœ… **Documentation** - Guide complet + rapport session

**Fichiers crÃ©Ã©s :**
- `client/src/config/purificationSidebarContent.js` (711 lignes, 58 champs)
- `client/src/components/pipeline/PurityGraph.jsx` (380 lignes, 4 composants)
- `client/src/components/pipeline/PurificationMethodForm.jsx` (380 lignes)
- `client/src/components/pipeline/PurificationPipelineDragDrop.jsx` (420 lignes)
- `client/src/utils/PurificationCSVExporter.js` (328 lignes)
- `client/src/components/pipeline/PURIFICATION_PIPELINE_DOCS.md` (580 lignes)
- `CDC/SESSION_RAPPORT_PHASE4_2026-01-05.md` (450 lignes)

**16 mÃ©thodes supportÃ©es :**
Winterisation, Chromatographie colonne, Flash Chromatography, HPLC, GC, TLC, DÃ©carboxylation, Distillation fractionnÃ©e, Distillation short-path, Distillation molÃ©culaire, Filtration, Centrifugation, SÃ©chage sous vide, Recristallisation, Sublimation, Extraction liquide-liquide

**ConformitÃ© CDC Phase 4 : 100% âœ…**

**Prochaine Ã©tape** : Phase 5 - Pipeline Extraction (18 mÃ©thodes)

---

## ğŸ“Š Ã‰TAT ACTUEL (Analyse complÃ¨te)

### âœ… Ce qui existe et fonctionne

#### 1. Architecture Backend (Prisma + Express)
- âœ… ModÃ¨le `PipelineGithub` avec stockage JSON flexible
- âœ… Routes API `/api/pipeline-github` (POST, GET, PUT, DELETE)
- âœ… Support des 7 intervalTypes : `seconds`, `minutes`, `hours`, `days`, `weeks`, `months`, `phases`
- âœ… Calcul statistiques : `totalCells`, `filledCells`, `completionRate`
- âœ… Associations reviews â†” pipelines via champs `*PipelineGithubId`

#### 2. Composants Pipeline Frontend
- âœ… `PipelineCore.jsx` - Timeline universelle style GitHub (base solide)
- âœ… `PipelineGitHubGrid.jsx` - Grille 365 jours avec tooltips
- âœ… `PipelineWithSidebar.jsx` - Layout avec sidebar + drag & drop (architectural)
- âœ… `PipelineCellModal.jsx` - Modal d'Ã©dition de cellule
- âœ… `PipelineDragDropView.jsx` - Vue drag & drop complÃ¨te
- âœ… `UnifiedPipeline.jsx` - Wrapper gÃ©nÃ©rique pour tous types
- âœ… `GIFExporter.js` - Export GIF animation pipeline (prÃ©parÃ©)

#### 3. SystÃ¨me de formulaires
- âœ… Architecture modulaire : `CreateFlowerReview/`, `CreateHashReview/`, etc.
- âœ… Hooks custom : `useFlowerForm`, `usePhotoUpload`
- âœ… Sections rÃ©utilisables : `VisualSection`, `OdorSection`, `TasteSection`, `EffectsSection`
- âœ… IntÃ©gration Orchard pour preview templates

#### 4. DonnÃ©es structurÃ©es (data/*.json)
- âœ… `aromas.json` - 100+ arÃ´mes catÃ©gorisÃ©s
- âœ… `effects.json` - 40+ effets (mental, physique, thÃ©rapeutique)
- âœ… `terpenes.json` - 20 terpÃ¨nes majeurs
- âœ… `tastes.json` - GoÃ»ts structurÃ©s

#### 5. SystÃ¨me PipelineGithub en DB
```sql
PipelineGithub {
  id, reviewId, reviewType, pipelineType,
  intervalType, startDate, endDate,
  curingType, curingDuration,
  cells (JSON), // { "0": { intensity, temperature, ... }, "1": {...}, ... }
  totalCells, filledCells, completionRate
}
```

---

### âš ï¸ Ce qui est incomplet ou manquant

#### 1. Pipeline Culture (Fleurs) - **PRIORITÃ‰ 1**
**Ã‰tat actuel :**
- âŒ SystÃ¨me drag & drop sidebar **non fonctionnel** en production
- âš ï¸ Seulement 12 phases prÃ©dÃ©finies (vs 85+ champs CDC requis)
- âŒ Pas de systÃ¨me hiÃ©rarchique GENERAL â†’ ENVIRONNEMENT â†’ SUBSTRAT â†’ etc.
- âŒ Formulaires manquants pour :
  - Mode de culture (Indoor/Outdoor/Greenhouse/No-till)
  - Espace (dimensions, mÂ², mÂ³, densitÃ© plantes)
  - Propagation & substrat (type, volume, composition %, marques)
  - Irrigation (type, frÃ©quence, volume, pH, EC)
  - Engrais (marque, gamme, dosage, frÃ©quence)
  - LumiÃ¨re (type lampe, puissance, distance, PPFD, DLI, spectre)
  - Climat (tempÃ©rature jour/nuit, humiditÃ©, VPD, CO2, ventilation)
  - Palissage (LST/HST/SCROG/SOG/etc. + intensitÃ© + moment)
  - Morphologie (taille, largeur, volume, poids, branches, buds)

**Exemple manquant :**
```jsx
// Sidebar devrait avoir cette structure hiÃ©rarchique :
SIDEBAR_CONTENT = {
  GENERAL: {
    icon: 'ğŸ“‹',
    items: ['DÃ©but culture', 'Fin culture', 'DurÃ©e', 'Mode', 'Espace']
  },
  ENVIRONNEMENT: {
    icon: 'ğŸŒ±',
    items: ['Propagation', 'Substrat', 'Irrigation']
  },
  NUTRITION: {
    icon: 'ğŸ’§',
    items: ['Type engrais', 'Marque', 'Gamme', 'Dosage', 'FrÃ©quence']
  },
  LUMIERE: {
    icon: 'ğŸ’¡',
    items: ['Type lampe', 'Puissance', 'Distance', 'PPFD', 'DLI', 'Spectre']
  },
  CLIMAT: {
    icon: 'ğŸŒ¡ï¸',
    items: ['TempÃ©rature', 'HumiditÃ©', 'VPD', 'CO2', 'Ventilation']
  },
  PALISSAGE: {
    icon: 'âœ‚ï¸',
    items: ['LST', 'HST', 'SCROG', 'SOG', 'Defoliation', 'Lollipopping']
  },
  MORPHOLOGIE: {
    icon: 'ğŸ“',
    items: ['Taille', 'Largeur', 'Volume', 'Poids', 'Branches', 'Buds']
  }
}
```

#### 2. Pipeline Curing - **PRIORITÃ‰ 2**
**Ã‰tat actuel :**
- âš ï¸ Structure basique existe (`CuringMaturationTimeline.jsx`)
- âŒ Pas de systÃ¨me d'Ã©volution des notes `/10` dans la timeline
- âŒ Export GIF non implÃ©mentÃ© (code prÃ©parÃ© mais pas intÃ©grÃ©)
- âŒ Champs manquants :
  - Type maturation (froid <5Â°C / chaud >5Â°C)
  - RÃ©cipient (verre, plastique, air libre, autre)
  - Emballage primaire (cellophane, papier cuisson, alu, paper hash, sac Ã  vide, autre)
  - OpacitÃ© (opaque, semi-opaque, transparent, ambrÃ©)
  - Volume occupÃ© (L/mL)
  - **Ã‰volution des notes** : Visuel, Odeurs, GoÃ»ts, Effets Ã  chaque Ã©tape

**Besoin :**
- Affichage mini-graphiques Ã©volution notes dans chaque cellule
- Export GIF montrant l'Ã©volution (frame par frame)

#### 3. Pipeline SÃ©paration (Hash) - **PRIORITÃ‰ 3**
**Ã‰tat actuel :**
- âš ï¸ Composant `SeparationPipelineSection.jsx` existe mais minimaliste
- âŒ Formulaires manquants selon `Dev_SÃ©parations.md` :
  - **Configuration batch** : Trame (s/m/h), Type processus, Taille batch
  - **MatiÃ¨re premiÃ¨re** : Type (trim/buds/sugar leaves/fresh frozen), Ã‰tat, QualitÃ© /10
  - **Ice-Water/Bubble** : TempÃ©rature eau (slider 0-10Â°C), Type eau (RO/distillÃ©e), Type glace, Ratio eau/glace/matiÃ¨re, Nombre washes (1-10), IntensitÃ© agitation, DurÃ©e par wash, Type machine
  - **Dry-sift/Kief** : Type support (tamis manuel/table vibrante/tambour), Liste microns (multi-select 220â†’25Âµm), DurÃ©e tamisage, IntensitÃ©, TempÃ©rature ambiante

#### 4. Pipeline Purification (Hash & ConcentrÃ©s) - **PRIORITÃ‰ 4**
**Ã‰tat actuel :**
- âŒ Composant `PurificationPipeline.jsx` existe mais trÃ¨s basique
- âŒ 16 mÃ©thodes Ã  implÃ©menter avec paramÃ¨tres spÃ©cifiques chacune :
  - Winterisation (solvant, tempÃ©rature, durÃ©e, ratio)
  - Chromatographie (type colonne, solvants, pression, tempÃ©rature)
  - HPLC, GC, TLC (protocoles spÃ©cifiques)
  - DÃ©carboxylation (tempÃ©rature, durÃ©e, pression)
  - Filtration (type membrane, taille pores, pression)
  - Centrifugation (vitesse RPM, durÃ©e, tempÃ©rature)
  - SÃ©chage sous vide (pression, tempÃ©rature, durÃ©e)
  - Sublimation, Recristallisation, etc.

**Besoin :** SystÃ¨me de sÃ©lection mÃ©thode â†’ affichage formulaire spÃ©cifique Ã  la mÃ©thode

#### 5. Pipeline Extraction (ConcentrÃ©s) - **PRIORITÃ‰ 5**
**Ã‰tat actuel :**
- âš ï¸ Composant `ExtractionPipelineSection.jsx` existe mais incomplet
- âŒ 18 mÃ©thodes d'extraction Ã  implÃ©menter :
  - **Solvants** : BHO, PHO, IHO, EHO, IPA, AcÃ©tone, Hexane (chacun avec : solvant, pression, tempÃ©rature, durÃ©e, purge)
  - **Pressage** : Rosin chaud/froid (tempÃ©rature, pression, durÃ©e, mesh size)
  - **Supercritique** : CO2 (pression, tempÃ©rature, dÃ©bit, co-solvant)
  - **Autres** : Huiles vÃ©gÃ©tales, Ultrasons, Micro-ondes, Tensioactifs

#### 6. Pipeline Recette (Comestibles) - **PRIORITÃ‰ 6**
**Ã‰tat actuel :**
- âš ï¸ Composant `RecipePipelineSection.jsx` existe
- âŒ SystÃ¨me ingrÃ©dients incomplet :
  - Besoin : Distinction ingrÃ©dients **standard** vs **cannabiniques**
  - Ajout quantitÃ© + unitÃ© (g, ml, pcs, etc.)
  - Ã‰tapes de prÃ©paration (actions prÃ©dÃ©finies assignables)
  - Assignation ingrÃ©dient â†’ action (ex: "Beurre cannabique" â†’ "Faire fondre")

#### 7. SystÃ¨me de GÃ©nÃ©alogie & PhenoHunt - **PRIORITÃ‰ 7**
**Ã‰tat actuel :**
- âŒ Canva gÃ©nÃ©tique drag & drop **non implÃ©mentÃ©**
- âŒ SystÃ¨me arbre gÃ©nÃ©alogique parents/enfants manquant
- âŒ Gestion projets PhenoHunt absente
- âŒ BibliothÃ¨que cultivars basique (modÃ¨le Cultivar existe mais UI limitÃ©e)

**Besoin :**
- Interface canva avec drag & drop cultivars depuis bibliothÃ¨que
- Relations visuelles parents â†’ enfants (flÃ¨ches)
- Tags phÃ©notypes (clone Ã©lite, seed run, S1, BX1, polyhybride)
- SystÃ¨me de nommage automatique (PH-01, PH-02, F1, F2, etc.)

#### 8. Visualisation 3D Culture (BETA) - **PRIORITÃ‰ 8**
**Ã‰tat actuel :**
- âŒ Aucun composant 3D
- âŒ Besoin : Three.js ou React-Three-Fiber pour modÃ©lisation plant 3D
- âŒ Ã‰volution temporelle (croissance, floraison, rÃ©colte)

---

## ğŸ¯ PLAN D'ACTION DÃ‰TAILLÃ‰

### PHASE 1 : Pipeline Culture (Fleurs) - **2-3 semaines**

#### Ã‰tape 1.1 : Refonte architecture sidebar drag & drop âœ…
**Fichiers Ã  crÃ©er/modifier :**
- `client/src/config/cultureSidebarContent.js` (nouveau)
- `client/src/components/pipeline/PipelineDragDropView.jsx` (amÃ©liorer)
- `client/src/components/pipeline/CultureSidebar.jsx` (nouveau)

**Contenu `cultureSidebarContent.js` :**
```js
export const CULTURE_SIDEBAR_CONTENT = {
  GENERAL: {
    icon: 'ğŸ“‹',
    label: 'Informations gÃ©nÃ©rales',
    color: 'blue',
    items: [
      { id: 'startDate', label: 'DÃ©but culture', type: 'date', icon: 'ğŸ“…' },
      { id: 'endDate', label: 'Fin culture', type: 'date', icon: 'ğŸ“…' },
      { id: 'duration', label: 'DurÃ©e', type: 'computed', unit: 'jours', icon: 'â±ï¸' },
      { id: 'mode', label: 'Mode culture', type: 'select', options: ['Indoor', 'Outdoor', 'Greenhouse', 'No-till'], icon: 'ğŸ ' },
      { id: 'spaceType', label: 'Type espace', type: 'select', options: ['Tente', 'Armoire', 'Room', 'Serre', 'ExtÃ©rieur'], icon: 'ğŸ“¦' },
      { id: 'dimensions', label: 'Dimensions (LxlxH)', type: 'dimensions', unit: 'cm', icon: 'ğŸ“' },
      { id: 'surfaceAuSol', label: 'Surface', type: 'computed', unit: 'mÂ²', icon: 'â¬œ' },
      { id: 'volumeTotal', label: 'Volume', type: 'computed', unit: 'mÂ³', icon: 'ğŸ“¦' },
      { id: 'densitePlantation', label: 'Plantes/mÂ²', type: 'slider', min: 0.5, max: 16, icon: 'ğŸŒ¿' }
    ]
  },
  ENVIRONNEMENT: {
    icon: 'ğŸŒ±',
    label: 'Environnement & Substrat',
    color: 'green',
    items: [
      { id: 'propagation', label: 'MÃ©thode propagation', type: 'select', options: ['Graine', 'Clone', 'Bouture', 'Tissu humide'], icon: 'ğŸŒ±' },
      { id: 'substrateType', label: 'Type substrat', type: 'select', options: ['Terreau', 'Coco', 'Laine roche', 'Hydro', 'DWC', 'NFT'], icon: 'ğŸª´' },
      { id: 'substrateVolume', label: 'Volume pot', type: 'slider', min: 0.5, max: 100, unit: 'L', icon: 'ğŸª´' },
      { id: 'substrateComposition', label: 'Composition %', type: 'pie', icon: 'ğŸ“Š' },
      { id: 'substrateBrand', label: 'Marque substrat', type: 'autocomplete', icon: 'ğŸ·ï¸' }
    ]
  },
  IRRIGATION: {
    icon: 'ğŸ’§',
    label: 'Irrigation & Solution',
    color: 'cyan',
    items: [
      { id: 'irrigationType', label: 'Type irrigation', type: 'select', options: ['Manuel', 'Goutte Ã  goutte', 'Inondation', 'Autopot'], icon: 'ğŸ’§' },
      { id: 'irrigationFrequency', label: 'FrÃ©quence', type: 'frequency', icon: 'ğŸ”„' },
      { id: 'waterVolume', label: 'Volume par arrosage', type: 'slider', min: 0.1, max: 5, unit: 'L', icon: 'ğŸš°' },
      { id: 'waterPH', label: 'pH eau', type: 'slider', min: 4.5, max: 8, step: 0.1, icon: 'âš—ï¸' },
      { id: 'waterEC', label: 'EC', type: 'slider', min: 0.2, max: 3, step: 0.1, unit: 'mS/cm', icon: 'âš¡' },
      { id: 'waterType', label: 'Type eau', type: 'select', options: ['Robinet', 'Osmose inverse', 'Source', 'Pluie'], icon: 'ğŸ’¦' }
    ]
  },
  NUTRITION: {
    icon: 'ğŸ§ª',
    label: 'Engrais & Nutrition',
    color: 'yellow',
    items: [
      { id: 'fertilizerType', label: 'Type engrais', type: 'select', options: ['Organique', 'MinÃ©ral', 'Organo-minÃ©ral'], icon: 'ğŸ§ª' },
      { id: 'fertilizerBrand', label: 'Marque', type: 'autocomplete', icon: 'ğŸ·ï¸' },
      { id: 'fertilizerLine', label: 'Gamme/produit', type: 'multiselect', options: ['Grow', 'Bloom', 'Booster', 'CalMag'], icon: 'ğŸ“¦' },
      { id: 'fertilizerDosage', label: 'Dosage', type: 'slider', min: 0.1, max: 5, unit: 'mL/L', icon: 'ğŸ’‰' },
      { id: 'fertilizerFrequency', label: 'FrÃ©quence', type: 'frequency', icon: 'ğŸ”„' }
    ]
  },
  LUMIERE: {
    icon: 'ğŸ’¡',
    label: 'LumiÃ¨re & Ã‰clairage',
    color: 'amber',
    items: [
      { id: 'lightType', label: 'Type lampe', type: 'select', options: ['LED', 'HPS', 'MH', 'CMH/LEC', 'CFL', 'Naturel', 'Mixte'], icon: 'ğŸ’¡' },
      { id: 'lightCount', label: 'Nombre lampes', type: 'stepper', min: 1, max: 20, icon: 'ğŸ”¢' },
      { id: 'lightPower', label: 'Puissance/lampe', type: 'slider', min: 10, max: 1000, unit: 'W', icon: 'âš¡' },
      { id: 'lightTotalPower', label: 'Puissance totale', type: 'computed', unit: 'W', icon: 'âš¡' },
      { id: 'lightDistance', label: 'Distance lampe/plante', type: 'slider', min: 10, max: 200, unit: 'cm', icon: 'ğŸ“' },
      { id: 'photoperiod', label: 'PhotopÃ©riode', type: 'photoperiod', icon: 'ğŸŒ' },
      { id: 'ppfd', label: 'PPFD moyen', type: 'slider', min: 200, max: 1200, unit: 'Âµmol/mÂ²/s', icon: 'â˜€ï¸' },
      { id: 'dli', label: 'DLI', type: 'slider', min: 10, max: 60, unit: 'mol/mÂ²/j', icon: 'ğŸ“Š' },
      { id: 'spectrum', label: 'Spectre', type: 'select', options: ['Full Spectrum', 'Veg (bleu)', 'Flo (rouge)', 'UV+', 'Far Red'], icon: 'ğŸŒˆ' }
    ]
  },
  CLIMAT: {
    icon: 'ğŸŒ¡ï¸',
    label: 'Climat & AtmosphÃ¨re',
    color: 'red',
    items: [
      { id: 'temperatureDay', label: 'TempÃ©rature jour', type: 'slider', min: 10, max: 35, unit: 'Â°C', icon: 'ğŸŒ¡ï¸' },
      { id: 'temperatureNight', label: 'TempÃ©rature nuit', type: 'slider', min: 10, max: 35, unit: 'Â°C', icon: 'ğŸŒ¡ï¸' },
      { id: 'humidityDay', label: 'HumiditÃ© jour', type: 'slider', min: 20, max: 90, unit: '%', icon: 'ğŸ’§' },
      { id: 'humidityNight', label: 'HumiditÃ© nuit', type: 'slider', min: 20, max: 90, unit: '%', icon: 'ğŸ’§' },
      { id: 'vpd', label: 'VPD', type: 'computed', unit: 'kPa', icon: 'ğŸ“Š' },
      { id: 'co2', label: 'Enrichissement CO2', type: 'toggle', icon: 'ğŸ’¨' },
      { id: 'co2Level', label: 'Niveau CO2', type: 'slider', min: 400, max: 1600, unit: 'ppm', icon: 'ğŸ’¨', dependsOn: 'co2' },
      { id: 'ventilationType', label: 'Type ventilation', type: 'select', options: ['Extracteur + intracteur', 'Extracteur seul', 'Passif'], icon: 'ğŸ’¨' },
      { id: 'ventilationIntensity', label: 'IntensitÃ© ventilation', type: 'slider', min: 0, max: 10, icon: 'ğŸ’¨' }
    ]
  },
  PALISSAGE: {
    icon: 'âœ‚ï¸',
    label: 'Palissage & Training',
    color: 'purple',
    items: [
      { id: 'trainingMethods', label: 'MÃ©thodes', type: 'multiselect', options: ['LST', 'HST', 'Topping', 'FIM', 'Main-lining', 'SCROG', 'SOG', 'Supercropping', 'Defoliation', 'Lollipopping'], icon: 'âœ‚ï¸' },
      { id: 'trainingIntensity', label: 'IntensitÃ©', type: 'slider', min: 0, max: 10, icon: 'ğŸ’ª' },
      { id: 'trainingPhases', label: 'Phases application', type: 'phases', icon: 'ğŸ“…' },
      { id: 'trainingNotes', label: 'Notes', type: 'textarea', maxLength: 500, icon: 'ğŸ“' }
    ]
  },
  MORPHOLOGIE: {
    icon: 'ğŸ“',
    label: 'Morphologie & DÃ©veloppement',
    color: 'emerald',
    items: [
      { id: 'plantHeight', label: 'Taille plante', type: 'slider', min: 10, max: 300, unit: 'cm', icon: 'ğŸ“' },
      { id: 'canopyWidth', label: 'Largeur canopÃ©e', type: 'slider', min: 10, max: 200, unit: 'cm', icon: 'â†”ï¸' },
      { id: 'plantVolume', label: 'Volume', type: 'select', options: ['Petit', 'Moyen', 'Grand', 'TrÃ¨s grand'], icon: 'ğŸ“¦' },
      { id: 'vegetativeWeight', label: 'Poids vÃ©gÃ©tatif', type: 'slider', min: 10, max: 3000, unit: 'g', icon: 'âš–ï¸' },
      { id: 'mainBranches', label: 'Branches principales', type: 'stepper', min: 1, max: 32, icon: 'ğŸŒ¿' },
      { id: 'visibleBuds', label: 'Buds visibles', type: 'stepper', min: 1, max: 200, icon: 'ğŸŒ¸' }
    ]
  }
}
```

#### Ã‰tape 1.2 : Composants de champs spÃ©cialisÃ©s
**Fichiers Ã  crÃ©er :**
- `client/src/components/pipeline/fields/DimensionsField.jsx`
- `client/src/components/pipeline/fields/FrequencyField.jsx`
- `client/src/components/pipeline/fields/PhotoperiodField.jsx`
- `client/src/components/pipeline/fields/PieCompositionField.jsx`
- `client/src/components/pipeline/fields/PhasesField.jsx`

**Exemple `DimensionsField.jsx` :**
```jsx
import { useState } from 'react'
import { LiquidInput } from '../../liquid'

const DimensionsField = ({ value, onChange, unit = 'cm' }) => {
  const [dimensions, setDimensions] = useState(value || { length: 0, width: 0, height: 0 })

  const handleChange = (field, val) => {
    const newDims = { ...dimensions, [field]: parseFloat(val) || 0 }
    setDimensions(newDims)
    onChange?.(newDims)
  }

  return (
    <div className="grid grid-cols-3 gap-2">
      <LiquidInput
        label={`L (${unit})`}
        type="number"
        value={dimensions.length}
        onChange={(e) => handleChange('length', e.target.value)}
      />
      <LiquidInput
        label={`l (${unit})`}
        type="number"
        value={dimensions.width}
        onChange={(e) => handleChange('width', e.target.value)}
      />
      <LiquidInput
        label={`H (${unit})`}
        type="number"
        value={dimensions.height}
        onChange={(e) => handleChange('height', e.target.value)}
      />
    </div>
  )
}

export default DimensionsField
```

#### Ã‰tape 1.3 : IntÃ©gration complÃ¨te dans CreateFlowerReview
**Fichiers Ã  modifier :**
- `client/src/pages/CreateFlowerReview/sections/CulturePipelineSection.jsx`
- `client/src/components/UnifiedPipeline.jsx`
- `client/src/config/pipelineConfigs.js`

**Ajouter Ã  `pipelineConfigs.js` :**
```js
import { CULTURE_SIDEBAR_CONTENT } from './cultureSidebarContent'

export const getPipelineConfig = (type) => {
  const configs = {
    culture: {
      title: 'Pipeline Culture',
      description: 'Tracez l\'Ã©volution de votre culture phase par phase',
      sidebarContent: CULTURE_SIDEBAR_CONTENT,
      intervalTypes: [
        { value: 'phases', label: 'Phases', maxCells: 12, icon: 'ğŸŒ±' },
        { value: 'days', label: 'Jours', maxCells: 365, icon: 'ğŸ“…' },
        { value: 'weeks', label: 'Semaines', maxCells: 52, icon: 'ğŸ“†' },
        { value: 'months', label: 'Mois', maxCells: 12, icon: 'ğŸ“…' }
      ],
      phases: CULTURE_PHASES // DÃ©jÃ  dÃ©fini
    },
    // ... autres configs
  }
  return configs[type] || configs.culture
}
```

---

### PHASE 2 : Pipeline Curing universel - **1 semaine**

#### Ã‰tape 2.1 : Ã‰volution des notes dans timeline
**Fichier Ã  crÃ©er :**
- `client/src/components/pipeline/CuringCellEvolution.jsx`

**Contenu :**
```jsx
import { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer } from 'recharts'

const CuringCellEvolution = ({ cellData, cellIndex, config }) => {
  // DonnÃ©es Ã©volution : chaque cellule stocke les notes /10
  const evolutionData = cellData?.evolution || {
    visual: cellData?.visualScore || 0,
    odeurs: cellData?.odeursScore || 0,
    gouts: cellData?.goutsScore || 0,
    effets: cellData?.effetsScore || 0
  }

  const chartData = [
    { name: 'Visuel', value: evolutionData.visual },
    { name: 'Odeurs', value: evolutionData.odeurs },
    { name: 'GoÃ»ts', value: evolutionData.gouts },
    { name: 'Effets', value: evolutionData.effets }
  ]

  return (
    <div className="space-y-2">
      <div className="text-xs font-semibold">Ã‰volution des notes /10</div>
      <ResponsiveContainer width="100%" height={120}>
        <LineChart data={chartData}>
          <XAxis dataKey="name" tick={{ fontSize: 10 }} />
          <YAxis domain={[0, 10]} tick={{ fontSize: 10 }} />
          <Tooltip />
          <Line type="monotone" dataKey="value" stroke="#8b5cf6" strokeWidth={2} />
        </LineChart>
      </ResponsiveContainer>
      <div className="grid grid-cols-2 gap-2 text-xs">
        <div>ğŸ‘ï¸ Visuel: {evolutionData.visual}/10</div>
        <div>ğŸ‘ƒ Odeurs: {evolutionData.odeurs}/10</div>
        <div>ğŸ˜‹ GoÃ»ts: {evolutionData.gouts}/10</div>
        <div>ğŸ’¥ Effets: {evolutionData.effets}/10</div>
      </div>
    </div>
  )
}

export default CuringCellEvolution
```

#### Ã‰tape 2.2 : Sidebar Curing
**Fichier Ã  crÃ©er :**
- `client/src/config/curingSidebarContent.js`

**Contenu :**
```js
export const CURING_SIDEBAR_CONTENT = {
  CONFIG: {
    icon: 'âš™ï¸',
    label: 'Configuration',
    color: 'gray',
    items: [
      { id: 'curingType', label: 'Type maturation', type: 'select', options: ['Froid (<5Â°C)', 'Chaud (>5Â°C)'], icon: 'ğŸŒ¡ï¸' },
      { id: 'temperature', label: 'TempÃ©rature', type: 'slider', min: -5, max: 30, unit: 'Â°C', icon: 'ğŸŒ¡ï¸' },
      { id: 'humidity', label: 'HumiditÃ© relative', type: 'slider', min: 20, max: 90, unit: '%', icon: 'ğŸ’§' }
    ]
  },
  RECIPIENT: {
    icon: 'ğŸ«™',
    label: 'RÃ©cipient & Emballage',
    color: 'blue',
    items: [
      { id: 'containerType', label: 'Type rÃ©cipient', type: 'select', options: ['Air libre', 'Verre', 'Plastique', 'MÃ©tal', 'Autre'], icon: 'ğŸ«™' },
      { id: 'packaging', label: 'Emballage primaire', type: 'select', options: ['Cellophane', 'Papier cuisson', 'Aluminium', 'Paper hash', 'Sac Ã  vide', 'Sous vide complet', 'Sous vide partiel'], icon: 'ğŸ“¦' },
      { id: 'opacity', label: 'OpacitÃ©', type: 'select', options: ['Opaque', 'Semi-opaque', 'Transparent', 'AmbrÃ©'], icon: 'ğŸ”†' },
      { id: 'volumeOccupied', label: 'Volume occupÃ©', type: 'slider', min: 0.1, max: 500, unit: 'mL', icon: 'ğŸ“' }
    ]
  },
  EVOLUTION: {
    icon: 'ğŸ“ˆ',
    label: 'Ã‰volution des notes',
    color: 'purple',
    items: [
      { id: 'visualScore', label: 'Visuel /10', type: 'slider', min: 0, max: 10, step: 0.5, icon: 'ğŸ‘ï¸' },
      { id: 'odeursScore', label: 'Odeurs /10', type: 'slider', min: 0, max: 10, step: 0.5, icon: 'ğŸ‘ƒ' },
      { id: 'goutsScore', label: 'GoÃ»ts /10', type: 'slider', min: 0, max: 10, step: 0.5, icon: 'ğŸ˜‹' },
      { id: 'effetsScore', label: 'Effets /10', type: 'slider', min: 0, max: 10, step: 0.5, icon: 'ğŸ’¥' }
    ]
  }
}
```

#### Ã‰tape 2.3 : IntÃ©gration export GIF
**Fichier Ã  modifier :**
- `client/src/utils/GIFExporter.js` (dÃ©jÃ  prÃ©parÃ©, finaliser)
- Bouton export dans `client/src/components/export/ExportMaker.jsx`

---

### PHASE 3 : Pipeline SÃ©paration (Hash) - **1 semaine**

#### Ã‰tape 3.1 : Sidebar SÃ©paration
**Fichier Ã  crÃ©er :**
- `client/src/config/separationSidebarContent.js`

**Structure selon `Dev_SÃ©parations.md` :**
```js
export const SEPARATION_SIDEBAR_CONTENT = {
  CONFIG_BATCH: {
    icon: 'âš™ï¸',
    label: 'Configuration batch',
    items: [
      { id: 'processType', label: 'Type processus', type: 'select', options: ['Kief sec', 'Dry sift multi-screen', 'Ice water hash', 'Bubble hash machine', 'Friction traditionnelle'], icon: 'ğŸ”„' },
      { id: 'batchSize', label: 'Taille batch', type: 'slider', min: 50, max: 5000, unit: 'g', icon: 'âš–ï¸' }
    ]
  },
  MATIERE_PREMIERE: {
    icon: 'ğŸŒ¿',
    label: 'MatiÃ¨re premiÃ¨re',
    items: [
      { id: 'materialType', label: 'Type matiÃ¨re', type: 'multiselect', options: ['Trim', 'Buds entiers', 'Mini buds', 'Sugar leaves', 'Whole plant', 'Fresh frozen', 'SÃ©chÃ©'], icon: 'ğŸŒ¿' },
      { id: 'materialState', label: 'Ã‰tat', type: 'select', options: ['FraÃ®che', 'Dry cured', 'Fresh frozen', 'Vieillie'], icon: 'ğŸ“¦' },
      { id: 'materialQuality', label: 'QualitÃ© /10', type: 'slider', min: 1, max: 10, icon: 'â­' }
    ]
  },
  ICE_WATER: {
    icon: 'ğŸ§Š',
    label: 'Ice-Water / Bubble',
    items: [
      { id: 'waterTemp', label: 'TempÃ©rature eau', type: 'slider', min: 0, max: 10, unit: 'Â°C', icon: 'ğŸŒ¡ï¸' },
      { id: 'waterType', label: 'Type eau', type: 'select', options: ['RO (osmosÃ©e)', 'DistillÃ©e', 'FiltrÃ©e charbon', 'Robinet'], icon: 'ğŸ’§' },
      { id: 'iceType', label: 'Type glace', type: 'select', options: ['Glace RO', 'Glace maison', 'Bloc', 'Crushed ice'], icon: 'ğŸ§Š' },
      { id: 'washCount', label: 'Nombre washes', type: 'stepper', min: 1, max: 10, icon: 'ğŸ”„' },
      { id: 'agitationIntensity', label: 'IntensitÃ© agitation', type: 'slider', min: 1, max: 10, icon: 'ğŸ’ª' },
      { id: 'washDuration', label: 'DurÃ©e/wash', type: 'slider', min: 5, max: 45, unit: 'min', icon: 'â±ï¸' }
    ]
  },
  DRY_SIFT: {
    icon: 'ğŸº',
    label: 'Dry-sift / Kief',
    items: [
      { id: 'supportType', label: 'Type support', type: 'select', options: ['Tamis manuel', 'Table vibrante', 'Tambour rotatif', 'Carte'], icon: 'ğŸº' },
      { id: 'micronSizes', label: 'Microns utilisÃ©s', type: 'multiselect', options: ['220Âµm', '190Âµm', '160Âµm', '150Âµm', '120Âµm', '104Âµm', '90Âµm', '73Âµm', '70Âµm', '45Âµm', '40Âµm', '25Âµm'], icon: 'ğŸ”¬' },
      { id: 'siftDuration', label: 'DurÃ©e tamisage', type: 'slider', min: 1, max: 60, unit: 'min', icon: 'â±ï¸' },
      { id: 'siftIntensity', label: 'IntensitÃ©', type: 'slider', min: 1, max: 10, icon: 'ğŸ’ª' },
      { id: 'ambientTemp', label: 'TempÃ©rature ambiante', type: 'slider', min: 0, max: 25, unit: 'Â°C', icon: 'ğŸŒ¡ï¸' }
    ]
  }
}
```

---

### PHASE 4 : Pipeline Purification - **1 semaine**

**SystÃ¨me Ã  implÃ©menter :**
1. SÃ©lection mÃ©thode(s) (multi-select)
2. Pour chaque mÃ©thode â†’ affichage formulaire spÃ©cifique
3. Stockage dans timeline avec Ã©tapes sÃ©quentielles

**Exemple structure formulaire Winterisation :**
```js
{
  method: 'winterisation',
  solvent: 'Ethanol',
  temperature: -20, // Â°C
  duration: 24, // heures
  ratio: '1:10', // produit:solvant
  filtrationSteps: 2
}
```

---

### PHASE 5 : Pipeline Extraction (ConcentrÃ©s) - **1 semaine**

**MÃªme logique que Purification :**
- SÃ©lection mÃ©thode
- Formulaire spÃ©cifique
- Ex BHO : solvant, pression, tempÃ©rature, durÃ©e, purge
- Ex Rosin : tempÃ©rature, pression, durÃ©e, mesh size

---

### PHASE 6 : Pipeline Recette (Comestibles) - **3 jours**

**Composant ingrÃ©dients :**
```jsx
const IngredientManager = ({ ingredients, onChange }) => {
  const [list, setList] = useState(ingredients || [])

  const addIngredient = () => {
    setList([...list, {
      id: Date.now(),
      type: 'standard', // 'standard' | 'cannabinique'
      name: '',
      quantity: 0,
      unit: 'g',
      assignedActions: []
    }])
  }

  return (
    <div>
      {list.map(ing => (
        <IngredientRow key={ing.id} data={ing} onChange={...} />
      ))}
      <button onClick={addIngredient}>+ Ajouter ingrÃ©dient</button>
    </div>
  )
}
```

---

### PHASE 7 : GÃ©nÃ©alogie & PhenoHunt - **2 semaines**

**BibliothÃ¨que nÃ©cessaire :**
- React Flow ou React Diagrams pour canva drag & drop
- Stockage : modÃ¨le `GenealogyTree` Prisma

**Composants :**
- `GeneticsCanva.jsx` - Canva principal
- `CultivarNode.jsx` - NÅ“ud cultivar
- `RelationshipLine.jsx` - Ligne parent/enfant
- `PhenoHuntManager.jsx` - Gestion projets

---

### PHASE 8 : Visualisation 3D BETA - **3 semaines**

**Stack technique :**
- Three.js + React-Three-Fiber
- ModÃ¨le 3D plant parametric (hauteur, largeur, branches, buds)
- Timeline contrÃ´le Ã©volution morphologie

**MVP :**
- Plant simple avec tronc + branches + buds
- Ã‰volution taille selon donnÃ©es pipeline culture
- Rendu basique, pas de textures ultra-rÃ©alistes

---

## ğŸ“… CALENDRIER GLOBAL

| Phase | DurÃ©e | DÃ©but | Fin |
|-------|-------|-------|-----|
| Phase 1 - Pipeline Culture | 3 semaines | 6 jan | 24 jan |
| Phase 2 - Pipeline Curing | 1 semaine | 27 jan | 31 jan |
| Phase 3 - Pipeline SÃ©paration | 1 semaine | 3 fÃ©v | 7 fÃ©v |
| Phase 4 - Pipeline Purification | 1 semaine | 10 fÃ©v | 14 fÃ©v |
| Phase 5 - Pipeline Extraction | 1 semaine | 17 fÃ©v | 21 fÃ©v |
| Phase 6 - Pipeline Recette | 3 jours | 24 fÃ©v | 26 fÃ©v |
| Phase 7 - GÃ©nÃ©alogie & PhenoHunt | 2 semaines | 27 fÃ©v | 12 mar |
| Phase 8 - Visualisation 3D BETA | 3 semaines | 13 mar | 31 mar |

**Total : ~12 semaines (3 mois)**

---

## âœ… CRITÃˆRES DE SUCCÃˆS

### Pipeline Culture
- [ ] 85+ champs Ã©ditables selon CDC
- [ ] Sidebar hiÃ©rarchique fonctionnelle (8 sections)
- [ ] Drag & drop opÃ©rationnel
- [ ] Sauvegarde/chargement prÃ©rÃ©glages
- [ ] Export HTML interactif avec timeline navigable

### Pipeline Curing
- [ ] Ã‰volution notes /10 Ã  chaque Ã©tape
- [ ] Mini-graphiques dans cellules
- [ ] Export GIF animation Ã©volution

### Pipelines Hash/ConcentrÃ©s
- [ ] Toutes mÃ©thodes SÃ©paration/Purification/Extraction
- [ ] Formulaires spÃ©cifiques par mÃ©thode
- [ ] Timeline sÃ©quentielle

### Pipeline Recette
- [ ] Gestion ingrÃ©dients standard/cannabiniques
- [ ] Ã‰tapes de prÃ©paration assignables

### GÃ©nÃ©alogie
- [ ] Canva drag & drop cultivars
- [ ] Relations parents/enfants visuelles
- [ ] Projets PhenoHunt

### 3D BETA
- [ ] Plant 3D simple
- [ ] Ã‰volution morphologie selon donnÃ©es

---

## ğŸ”§ ARCHITECTURE FINALE

```
client/src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ pipeline/
â”‚   â”‚   â”œâ”€â”€ PipelineCore.jsx (âœ… existe)
â”‚   â”‚   â”œâ”€â”€ PipelineWithSidebar.jsx (âœ… amÃ©liorer)
â”‚   â”‚   â”œâ”€â”€ PipelineDragDropView.jsx (âœ… amÃ©liorer)
â”‚   â”‚   â”œâ”€â”€ PipelineCellModal.jsx (âœ… existe)
â”‚   â”‚   â”œâ”€â”€ CultureSidebar.jsx (ğŸ†• crÃ©er)
â”‚   â”‚   â”œâ”€â”€ CuringSidebar.jsx (ğŸ†• crÃ©er)
â”‚   â”‚   â”œâ”€â”€ SeparationSidebar.jsx (ğŸ†• crÃ©er)
â”‚   â”‚   â”œâ”€â”€ CuringCellEvolution.jsx (ğŸ†• crÃ©er)
â”‚   â”‚   â””â”€â”€ fields/
â”‚   â”‚       â”œâ”€â”€ DimensionsField.jsx (ğŸ†•)
â”‚   â”‚       â”œâ”€â”€ FrequencyField.jsx (ğŸ†•)
â”‚   â”‚       â”œâ”€â”€ PhotoperiodField.jsx (ğŸ†•)
â”‚   â”‚       â”œâ”€â”€ PieCompositionField.jsx (ğŸ†•)
â”‚   â”‚       â””â”€â”€ PhasesField.jsx (ğŸ†•)
â”‚   â”œâ”€â”€ genetics/
â”‚   â”‚   â”œâ”€â”€ GeneticsCanva.jsx (ğŸ†•)
â”‚   â”‚   â”œâ”€â”€ CultivarNode.jsx (ğŸ†•)
â”‚   â”‚   â”œâ”€â”€ RelationshipLine.jsx (ğŸ†•)
â”‚   â”‚   â””â”€â”€ PhenoHuntManager.jsx (ğŸ†•)
â”‚   â””â”€â”€ 3d/
â”‚       â”œâ”€â”€ PlantModel.jsx (ğŸ†• BETA)
â”‚       â””â”€â”€ PlantEvolution.jsx (ğŸ†• BETA)
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ pipelineConfigs.js (âœ… amÃ©liorer)
â”‚   â”œâ”€â”€ cultureSidebarContent.js (ğŸ†•)
â”‚   â”œâ”€â”€ curingSidebarContent.js (ğŸ†•)
â”‚   â”œâ”€â”€ separationSidebarContent.js (ğŸ†•)
â”‚   â”œâ”€â”€ purificationSidebarContent.js (ğŸ†•)
â”‚   â”œâ”€â”€ extractionSidebarContent.js (ğŸ†•)
â”‚   â””â”€â”€ recipeSidebarContent.js (ğŸ†•)
â””â”€â”€ pages/
    â”œâ”€â”€ CreateFlowerReview/ (âœ… amÃ©liorer)
    â”œâ”€â”€ CreateHashReview/ (âœ… amÃ©liorer)
    â”œâ”€â”€ CreateConcentrateReview/ (âœ… amÃ©liorer)
    â””â”€â”€ CreateEdibleReview/ (âœ… amÃ©liorer)
```

---

## ğŸš€ PROCHAINES Ã‰TAPES IMMÃ‰DIATES

1. **Valider ce plan** avec vous
2. **Commencer Phase 1.1** : Architecture sidebar Culture
3. **CrÃ©er fichier `cultureSidebarContent.js`**
4. **ImplÃ©menter composants fields** (Dimensions, Frequency, etc.)
5. **Tester drag & drop** sidebar â†’ timeline
6. **ItÃ©rer** sur feedback

---

**Questions pour avancer :**
1. Validez-vous les prioritÃ©s et l'ordre des phases ?
2. Souhaitez-vous commencer directement par Phase 1.1 (Pipeline Culture) ?
3. Y a-t-il des fonctionnalitÃ©s Ã  prioriser/dÃ©prioriser ?
4. Pour la 3D (Phase 8), voulez-vous un MVP ultra-simple ou attendre ?

**PrÃªt Ã  dÃ©marrer dÃ¨s validation !** ğŸš€
